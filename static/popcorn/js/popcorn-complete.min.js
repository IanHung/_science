/*
 * popcorn.js version b43f20f
 * http://popcornjs.org
 *
 * Copyright 2011, Mozilla Foundation
 * Licensed under the MIT license
 */

(function(n,i){function j(a){F.put.call(this,a)}function d(a){this.parent=a;this.byStart=[{start:-1,end:-1}];this.byEnd=[{start:-1,end:-1}];this.animating=[];this.endIndex=this.startIndex=0;this.previousUpdateTime=-1;Object.defineProperty(this,"count",{get:function(){return this.byStart.length}})}function c(a,b){return function(){if(e.plugin.debug)return a.apply(this,arguments);try{return a.apply(this,arguments)}catch(l){e.plugin.errors.push({plugin:b,thrown:l,source:a.toString()});this.emit("pluginerror",
e.plugin.errors)}}}if(i.addEventListener){var f=Array.prototype,g=Object.prototype,h=f.forEach,m=f.slice,t=g.hasOwnProperty,o=g.toString,x=n.Popcorn,p=[],u=false,y={events:{hash:{},apis:{}}},I=function(){return n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(a){n.setTimeout(a,16)}}(),F={put:function(a){Object.getOwnPropertyNames(a).forEach(function(b){this[b]=a[b]},this)}},e=function(a,b){return new e.p.init(a,
b||null)};e.version="b43f20f";e.isSupported=true;e.instances=[];e.p=e.prototype={init:function(a,b){var l,k=this;if(typeof a==="function")if(i.readyState==="complete")a(i,e);else{p.push(a);if(!u){u=true;var r=function(){i.removeEventListener("DOMContentLoaded",r,false);for(var E=0,A=p.length;E<A;E++)p[E].call(i,e);p=null};i.addEventListener("DOMContentLoaded",r,false)}}else{if(typeof a==="string")try{l=i.querySelector(a)}catch(s){throw Error("Popcorn.js Error: Invalid media element selector: "+a);
}this.media=l||a;l=this.media.nodeName&&this.media.nodeName.toLowerCase()||"video";this[l]=this.media;this.options=e.extend({},b)||{};this.id=this.options.id||e.guid(l);if(e.byId(this.id))throw Error("Popcorn.js Error: Cannot use duplicate ID ("+this.id+")");this.isDestroyed=false;this.data={running:{cue:[]},timeUpdate:e.nop,disabled:{},events:{},hooks:{},history:[],state:{volume:this.media.volume},trackRefs:{},trackEvents:new d(this)};e.instances.push(this);var D=function(){if(k.media.currentTime<
0)k.media.currentTime=0;k.media.removeEventListener("loadedmetadata",D,false);var E,A,v,z,q;E=k.media.duration;E=E!=E?Number.MAX_VALUE:E+1;e.addTrackEvent(k,{start:E,end:E});if(k.options.frameAnimation){k.data.timeUpdate=function(){e.timeUpdate(k,{});e.forEach(e.manifest,function(w,O){if(A=k.data.running[O]){z=A.length;for(var N=0;N<z;N++){v=A[N];(q=v._natives)&&q.frame&&q.frame.call(k,{},v,k.currentTime())}}});k.emit("timeupdate");!k.isDestroyed&&I(k.data.timeUpdate)};!k.isDestroyed&&I(k.data.timeUpdate)}else{k.data.timeUpdate=
function(w){e.timeUpdate(k,w)};k.isDestroyed||k.media.addEventListener("timeupdate",k.data.timeUpdate,false)}};Object.defineProperty(this,"error",{get:function(){return k.media.error}});k.media.readyState>=1?D():k.media.addEventListener("loadedmetadata",D,false);return this}}};e.p.init.prototype=e.p;e.byId=function(a){for(var b=e.instances,l=b.length,k=0;k<l;k++)if(b[k].id===a)return b[k];return null};e.forEach=function(a,b,l){if(!a||!b)return{};l=l||this;var k,r;if(h&&a.forEach===h)return a.forEach(b,
l);if(o.call(a)==="[object NodeList]"){k=0;for(r=a.length;k<r;k++)b.call(l,a[k],k,a);return a}for(k in a)t.call(a,k)&&b.call(l,a[k],k,a);return a};e.extend=function(a){var b=m.call(arguments,1);e.forEach(b,function(l){for(var k in l)a[k]=l[k]});return a};e.extend(e,{noConflict:function(a){if(a)n.Popcorn=x;return e},error:function(a){throw Error(a);},guid:function(a){e.guid.counter++;return(a?a:"")+(+new Date+e.guid.counter)},sizeOf:function(a){var b=0,l;for(l in a)b++;return b},isArray:Array.isArray||
function(a){return o.call(a)==="[object Array]"},nop:function(){},position:function(a){if(!a.parentNode)return null;a=a.getBoundingClientRect();var b={},l=i.documentElement,k=i.body,r,s,D;r=l.clientTop||k.clientTop||0;s=l.clientLeft||k.clientLeft||0;D=n.pageYOffset&&l.scrollTop||k.scrollTop;l=n.pageXOffset&&l.scrollLeft||k.scrollLeft;r=Math.ceil(a.top+D-r);s=Math.ceil(a.left+l-s);for(var E in a)b[E]=Math.round(a[E]);return e.extend({},b,{top:r,left:s})},disable:function(a,b){if(!a.data.disabled[b]){a.data.disabled[b]=
true;if(b in e.registryByName&&a.data.running[b])for(var l=a.data.running[b].length-1,k;l>=0;l--){k=a.data.running[b][l];k._natives.end.call(a,null,k);a.emit("trackend",e.extend({},k,{plugin:k.type,type:"trackend"}))}return a}},enable:function(a,b){if(a.data.disabled[b]){a.data.disabled[b]=false;if(b in e.registryByName&&a.data.running[b])for(var l=a.data.running[b].length-1,k;l>=0;l--){k=a.data.running[b][l];k._natives.start.call(a,null,k);a.emit("trackstart",e.extend({},k,{plugin:k.type,type:"trackstart",
track:k}))}return a}},destroy:function(a){var b=a.data.events,l=a.data.trackEvents,k,r,s,D;for(r in b){k=b[r];for(s in k)delete k[s];b[r]=null}for(D in e.registryByName)e.removePlugin(a,D);l.byStart.length=0;l.byEnd.length=0;if(!a.isDestroyed){a.data.timeUpdate&&a.media.removeEventListener("timeupdate",a.data.timeUpdate,false);a.isDestroyed=true}e.instances.splice(e.instances.indexOf(a),1)}});e.guid.counter=1;e.extend(e.p,function(){var a={};e.forEach("load play pause currentTime playbackRate volume duration preload playbackRate autoplay loop controls muted buffered readyState seeking paused played seekable ended".split(/\s+/g),
function(b){a[b]=function(l){var k;if(typeof this.media[b]==="function"){if(l!=null&&/play|pause/.test(b))this.media.currentTime=e.util.toSeconds(l);this.media[b]();return this}if(l!=null){k=this.media[b];this.media[b]=l;k!==l&&this.emit("attrchange",{attribute:b,previousValue:k,currentValue:l});return this}return this.media[b]}});return a}());e.forEach("enable disable".split(" "),function(a){e.p[a]=function(b){return e[a](this,b)}});e.extend(e.p,{roundTime:function(){return Math.round(this.media.currentTime)},
exec:function(a,b,l){var k=arguments.length,r="trackadded",s,D;try{D=e.util.toSeconds(a)}catch(E){}if(typeof D==="number")a=D;if(typeof a==="number"&&k===2){l=b;b=a;a=e.guid("cue")}else if(k===1)b=-1;else if(s=this.getTrackEvent(a)){this.data.trackEvents.remove(a);j.end(this,s);e.removeTrackEvent.ref(this,a);r="cuechange";if(typeof a==="string"&&k===2){if(typeof b==="number")l=s._natives.start;if(typeof b==="function"){l=b;b=s.start}}}else if(k>=2){if(typeof b==="string"){try{D=e.util.toSeconds(b)}catch(A){}b=
D}if(typeof b==="number")l=l||e.nop();if(typeof b==="function"){l=b;b=-1}}k={id:a,start:b,end:b+1,_running:false,_natives:{start:l||e.nop,end:e.nop,type:"cue"}};if(s)k=e.extend(s,k);if(r==="cuechange"){k._id=k.id||k._id||e.guid(k._natives.type);this.data.trackEvents.add(k);j.start(this,k);this.timeUpdate(this,null,true);e.addTrackEvent.ref(this,k);this.emit(r,e.extend({},k,{id:a,type:r,previousValue:{time:s.start,fn:s._natives.start},currentValue:{time:b,fn:l||e.nop},track:s}))}else e.addTrackEvent(this,
k);return this},mute:function(a){a=a==null||a===true?"muted":"unmuted";if(a==="unmuted"){this.media.muted=false;this.media.volume=this.data.state.volume}if(a==="muted"){this.data.state.volume=this.media.volume;this.media.muted=true}this.emit(a);return this},unmute:function(a){return this.mute(a==null?false:!a)},position:function(){return e.position(this.media)},toggle:function(a){return e[this.data.disabled[a]?"enable":"disable"](this,a)},defaults:function(a,b){if(e.isArray(a)){e.forEach(a,function(l){for(var k in l)this.defaults(k,
l[k])},this);return this}if(!this.options.defaults)this.options.defaults={};this.options.defaults[a]||(this.options.defaults[a]={});e.extend(this.options.defaults[a],b);return this}});e.Events={UIEvents:"blur focus focusin focusout load resize scroll unload",MouseEvents:"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave click dblclick",Events:"loadstart progress suspend emptied stalled play pause error loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange"};
e.Events.Natives=e.Events.UIEvents+" "+e.Events.MouseEvents+" "+e.Events.Events;y.events.apiTypes=["UIEvents","MouseEvents","Events"];(function(a,b){for(var l=y.events.apiTypes,k=a.Natives.split(/\s+/g),r=0,s=k.length;r<s;r++)b.hash[k[r]]=true;l.forEach(function(D){b.apis[D]={};for(var E=a[D].split(/\s+/g),A=E.length,v=0;v<A;v++)b.apis[D][E[v]]=true})})(e.Events,y.events);e.events={isNative:function(a){return!!y.events.hash[a]},getInterface:function(a){if(!e.events.isNative(a))return false;var b=
y.events,l=b.apiTypes;b=b.apis;for(var k=0,r=l.length,s,D;k<r;k++){D=l[k];if(b[D][a]){s=D;break}}return s},all:e.Events.Natives.split(/\s+/g),fn:{trigger:function(a,b){var l,k=this.data.events[a];if(k){if(l=e.events.getInterface(a)){l=i.createEvent(l);l.initEvent(a,true,true,n,1);this.media.dispatchEvent(l);return this}for(l=k.slice();l.length;)l.shift().call(this,b)}return this},listen:function(a,b){var l=this,k=true,r=e.events.hooks[a],s,D;if(typeof b!=="function")throw Error("Popcorn.js Error: Listener is not a function");
if(!this.data.events[a]){this.data.events[a]=[];k=false}if(r){r.add&&r.add.call(this,{},b);if(r.bind)a=r.bind;if(r.handler){D=b;b=function(E){r.handler.call(l,E,D)}}k=true;if(!this.data.events[a]){this.data.events[a]=[];k=false}}this.data.events[a].push(b);!k&&e.events.all.indexOf(a)>-1&&this.media.addEventListener(a,function(E){if(l.data.events[a])for(s=l.data.events[a].slice();s.length;)s.shift().call(l,E)},false);return this},unlisten:function(a,b){var l,k=this.data.events[a];if(k){if(typeof b===
"string"){for(l=0;l<k.length;l++)k[l].name===b&&k.splice(l--,1);return this}else if(typeof b==="function"){for(;l!==-1;){l=k.indexOf(b);l!==-1&&k.splice(l,1)}return this}this.data.events[a]=null;return this}}},hooks:{canplayall:{bind:"canplaythrough",add:function(a,b){var l=false;if(this.media.readyState){setTimeout(function(){b.call(this,a)}.bind(this),0);l=true}this.data.hooks.canplayall={fired:l}},handler:function(a,b){if(!this.data.hooks.canplayall.fired){b.call(this,a);this.data.hooks.canplayall.fired=
true}}}}};e.forEach([["trigger","emit"],["listen","on"],["unlisten","off"]],function(a){e.p[a[0]]=e.p[a[1]]=e.events.fn[a[0]]});j.start=function(a,b){if(b.end>a.media.currentTime&&b.start<=a.media.currentTime&&!b._running){b._running=true;a.data.running[b._natives.type].push(b);if(!a.data.disabled[b._natives.type]){b._natives.start.call(a,null,b);a.emit("trackstart",e.extend({},b,{plugin:b._natives.type,type:"trackstart",track:b}))}}};j.end=function(a,b){var l;if((b.end<=a.media.currentTime||b.start>
a.media.currentTime)&&b._running){l=a.data.running[b._natives.type];b._running=false;l.splice(l.indexOf(b),1);if(!a.data.disabled[b._natives.type]){b._natives.end.call(a,null,b);a.emit("trackend",e.extend({},b,{plugin:b._natives.type,type:"trackend",track:b}))}}};d.prototype.where=function(a){return(this.parent.getTrackEvents()||[]).filter(function(b){var l,k;if(!a)return true;for(l in a){k=a[l];if(b[l]&&b[l]===k||b._natives[l]&&b._natives[l]===k)return true}return false})};d.prototype.add=function(a){var b=
this.byStart,l=this.byEnd,k;a&&a._id&&this.parent.data.history.push(a._id);a.start=e.util.toSeconds(a.start,this.parent.options.framerate);a.end=e.util.toSeconds(a.end,this.parent.options.framerate);for(k=b.length-1;k>=0;k--)if(a.start>=b[k].start){b.splice(k+1,0,a);break}for(b=l.length-1;b>=0;b--)if(a.end>l[b].end){l.splice(b+1,0,a);break}k<=this.parent.data.trackEvents.startIndex&&a.start<=this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.startIndex++;b<=this.parent.data.trackEvents.endIndex&&
a.end<this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.endIndex++};d.prototype.remove=function(a){if(a instanceof j)a=a.id;if(typeof a==="object"){this.where(a).forEach(function(z){this.removeTrackEvent(z._id)},this.parent);return this}var b,l,k;k=this.byStart.length;for(var r=0,s=0,D=[],E=[],A=[],v=[];--k>-1;){b=this.byStart[r];l=this.byEnd[r];if(!b._id){D.push(b);E.push(l)}if(b._id){b._id!==a&&D.push(b);l._id!==a&&E.push(l);if(b._id===a)s=r}r++}k=this.animating.length;
r=0;if(k)for(;--k>-1;){b=this.animating[r];b._id||A.push(b);b._id&&b._id!==a&&A.push(b);r++}s<=this.startIndex&&this.startIndex--;s<=this.endIndex&&this.endIndex--;this.byStart=D;this.byEnd=E;this.animating=A;k=this.parent.data.history.length;for(r=0;r<k;r++)this.parent.data.history[r]!==a&&v.push(this.parent.data.history[r]);this.parent.data.history=v};e.addTrackEvent=function(a,b){var l;if(!(b instanceof j)){if((b=new j(b))&&b._natives&&b._natives.type&&a.options.defaults&&a.options.defaults[b._natives.type]){l=
e.extend({},b);e.extend(b,a.options.defaults[b._natives.type],l)}if(b._natives){b._id=b.id||b._id||e.guid(b._natives.type);if(b._natives._setup){b._natives._setup.call(a,b);a.emit("tracksetup",e.extend({},b,{plugin:b._natives.type,type:"tracksetup",track:b}))}}a.data.trackEvents.add(b);j.start(a,b);this.timeUpdate(a,null,true);b._id&&e.addTrackEvent.ref(a,b);a.emit("trackadded",e.extend({},b,b._natives?{plugin:b._natives.type}:{},{type:"trackadded",track:b}))}};e.addTrackEvent.ref=function(a,b){a.data.trackRefs[b._id]=
b;return a};e.removeTrackEvent=function(a,b){var l=a.getTrackEvent(b);if(l){l._natives._teardown&&l._natives._teardown.call(a,l);a.data.trackEvents.remove(b);e.removeTrackEvent.ref(a,b);l._natives&&a.emit("trackremoved",e.extend({},l,{plugin:l._natives.type,type:"trackremoved",track:l}))}};e.removeTrackEvent.ref=function(a,b){delete a.data.trackRefs[b];return a};e.getTrackEvents=function(a){var b=[];a=a.data.trackEvents.byStart;for(var l=a.length,k=0,r;k<l;k++){r=a[k];r._id&&b.push(r)}return b};e.getTrackEvents.ref=
function(a){return a.data.trackRefs};e.getTrackEvent=function(a,b){return a.data.trackRefs[b]};e.getTrackEvent.ref=function(a,b){return a.data.trackRefs[b]};e.getLastTrackEventId=function(a){return a.data.history[a.data.history.length-1]};e.timeUpdate=function(a,b){var l=a.media.currentTime,k=a.data.trackEvents.previousUpdateTime,r=a.data.trackEvents,s=r.endIndex,D=r.startIndex,E=r.byStart.length,A=r.byEnd.length,v=e.registryByName,z,q,w;if(k<=l){for(;r.byEnd[s]&&r.byEnd[s].end<=l;){z=r.byEnd[s];
q=(k=z._natives)&&k.type;if(!k||v[q]||a[q]){if(z._running===true){z._running=false;w=a.data.running[q];w.splice(w.indexOf(z),1);if(!a.data.disabled[q]){k.end.call(a,b,z);a.emit("trackend",e.extend({},z,{plugin:q,type:"trackend",track:z}))}}s++}else{e.removeTrackEvent(a,z._id);return}}for(;r.byStart[D]&&r.byStart[D].start<=l;){z=r.byStart[D];q=(k=z._natives)&&k.type;if(!k||v[q]||a[q]){if(z.end>l&&z._running===false){z._running=true;a.data.running[q].push(z);if(!a.data.disabled[q]){k.start.call(a,b,
z);a.emit("trackstart",e.extend({},z,{plugin:q,type:"trackstart",track:z}))}}D++}else{e.removeTrackEvent(a,z._id);return}}}else if(k>l){for(;r.byStart[D]&&r.byStart[D].start>l;){z=r.byStart[D];q=(k=z._natives)&&k.type;if(!k||v[q]||a[q]){if(z._running===true){z._running=false;w=a.data.running[q];w.splice(w.indexOf(z),1);if(!a.data.disabled[q]){k.end.call(a,b,z);a.emit("trackend",e.extend({},z,{plugin:q,type:"trackend",track:z}))}}D--}else{e.removeTrackEvent(a,z._id);return}}for(;r.byEnd[s]&&r.byEnd[s].end>
l;){z=r.byEnd[s];q=(k=z._natives)&&k.type;if(!k||v[q]||a[q]){if(z.start<=l&&z._running===false){z._running=true;a.data.running[q].push(z);if(!a.data.disabled[q]){k.start.call(a,b,z);a.emit("trackstart",e.extend({},z,{plugin:q,type:"trackstart",track:z}))}}s--}else{e.removeTrackEvent(a,z._id);return}}}r.endIndex=s;r.startIndex=D;r.previousUpdateTime=l;r.byStart.length<E&&r.startIndex--;r.byEnd.length<A&&r.endIndex--};e.extend(e.p,{getTrackEvents:function(){return e.getTrackEvents.call(null,this)},
getTrackEvent:function(a){return e.getTrackEvent.call(null,this,a)},getLastTrackEventId:function(){return e.getLastTrackEventId.call(null,this)},removeTrackEvent:function(a){e.removeTrackEvent.call(null,this,a);return this},removePlugin:function(a){e.removePlugin.call(null,this,a);return this},timeUpdate:function(a){e.timeUpdate.call(null,this,a);return this},destroy:function(){e.destroy.call(null,this);return this}});e.manifest={};e.registry=[];e.registryByName={};e.plugin=function(a,b,l){if(e.protect.natives.indexOf(a.toLowerCase())>=
0)e.error("'"+a+"' is a protected function name");else{var k=typeof b==="function",r=["start","end","type","manifest"],s=["_setup","_teardown","start","end","frame"],D={},E=function(z,q){z=z||e.nop;q=q||e.nop;return function(){z.apply(this,arguments);q.apply(this,arguments)}};e.manifest[a]=l=l||b.manifest||{};s.forEach(function(z){b[z]=c(b[z]||e.nop,a)});var A=function(z,q){if(!q)return this;if(q.ranges&&e.isArray(q.ranges)){e.forEach(q.ranges,function(K){K=e.extend({},q,K);delete K.ranges;this[a](K)},
this);return this}var w=q._natives={},O="",N;e.extend(w,z);q._natives.type=q._natives.plugin=a;q._running=false;w.start=w.start||w["in"];w.end=w.end||w.out;if(q.once)w.end=E(w.end,function(){this.removeTrackEvent(q._id)});w._teardown=E(function(){var K=m.call(arguments),C=this.data.running[w.type];K.unshift(null);K[1]._running&&C.splice(C.indexOf(q),1)&&w.end.apply(this,K);K[1]._running=false;this.emit("trackend",e.extend({},q,{plugin:w.type,type:"trackend",track:e.getTrackEvent(this,q.id||q._id)}))},
w._teardown);w._teardown=E(w._teardown,function(){this.emit("trackteardown",e.extend({},q,{plugin:a,type:"trackteardown",track:e.getTrackEvent(this,q.id||q._id)}))});q.compose=q.compose||[];if(typeof q.compose==="string")q.compose=q.compose.split(" ");q.effect=q.effect||[];if(typeof q.effect==="string")q.effect=q.effect.split(" ");q.compose=q.compose.concat(q.effect);q.compose.forEach(function(K){O=e.compositions[K]||{};s.forEach(function(C){w[C]=E(w[C],O[C])})});q._natives.manifest=l;if(!("start"in
q))q.start=q["in"]||0;if(!q.end&&q.end!==0)q.end=q.out||Number.MAX_VALUE;if(!t.call(q,"toString"))q.toString=function(){var K=["start: "+q.start,"end: "+q.end,"id: "+(q.id||q._id)];q.target!=null&&K.push("target: "+q.target);return a+" ( "+K.join(", ")+" )"};if(!q.target){N="options"in l&&l.options;q.target=N&&"target"in N&&N.target}if(!q._id&&q._natives)q._id=e.guid(q._natives.type);if(q instanceof j){if(q._natives){q._id=q.id||q._id||e.guid(q._natives.type);if(q._natives._setup){q._natives._setup.call(this,
q);this.emit("tracksetup",e.extend({},q,{plugin:q._natives.type,type:"tracksetup",track:q}))}}this.data.trackEvents.add(q);j.start(this,q);this.timeUpdate(this,null,true);q._id&&e.addTrackEvent.ref(this,q)}else e.addTrackEvent(this,q);e.forEach(z,function(K,C){r.indexOf(C)===-1&&this.on(C,K)},this);return this};e.p[a]=D[a]=function(z,q){var w,O;if(z&&!q)q=z;else if(w=this.getTrackEvent(z)){O=q;var N={},K;for(K in w)if(t.call(O,K)&&t.call(w,K))N[K]=w[K];if(w._natives._update){this.data.trackEvents.remove(w);
if(t.call(q,"start"))w.start=q.start;if(t.call(q,"end"))w.end=q.end;j.end(this,w);k&&b.call(this,w);w._natives._update.call(this,w,q);this.data.trackEvents.add(w);j.start(this,w)}else{e.extend(w,q);this.data.trackEvents.remove(z);w._natives._teardown&&w._natives._teardown.call(this,w);e.removeTrackEvent.ref(this,z);if(k)A.call(this,b.call(this,w),w);else{w._id=w.id||w._id||e.guid(w._natives.type);if(w._natives&&w._natives._setup){w._natives._setup.call(this,w);this.emit("tracksetup",e.extend({},w,
{plugin:w._natives.type,type:"tracksetup",track:w}))}this.data.trackEvents.add(w);j.start(this,w);this.timeUpdate(this,null,true);e.addTrackEvent.ref(this,w)}this.emit("trackchange",{id:w.id,type:"trackchange",previousValue:N,currentValue:w,track:w});return this}w._natives.type!=="cue"&&this.emit("trackchange",{id:w.id,type:"trackchange",previousValue:N,currentValue:O,track:w});return this}else q.id=z;this.data.running[a]=this.data.running[a]||[];w=e.extend({},this.options.defaults&&this.options.defaults[a]||
{},q);A.call(this,k?b.call(this,w):b,w);return this};l&&e.extend(b,{manifest:l});var v={fn:D[a],definition:b,base:b,parents:[],name:a};e.registry.push(e.extend(D,v,{type:a}));e.registryByName[a]=v;return D}};e.plugin.errors=[];e.plugin.debug=e.version==="b43f20f";e.removePlugin=function(a,b){if(!b){b=a;a=e.p;if(e.protect.natives.indexOf(b.toLowerCase())>=0){e.error("'"+b+"' is a protected function name");return}var l=e.registry.length,k;for(k=0;k<l;k++)if(e.registry[k].name===b){e.registry.splice(k,
1);delete e.registryByName[b];delete e.manifest[b];delete a[b];return}}l=a.data.trackEvents.byStart;k=a.data.trackEvents.byEnd;var r=a.data.trackEvents.animating,s,D;s=0;for(D=l.length;s<D;s++){if(l[s]&&l[s]._natives&&l[s]._natives.type===b){l[s]._natives._teardown&&l[s]._natives._teardown.call(a,l[s]);l.splice(s,1);s--;D--;if(a.data.trackEvents.startIndex<=s){a.data.trackEvents.startIndex--;a.data.trackEvents.endIndex--}}k[s]&&k[s]._natives&&k[s]._natives.type===b&&k.splice(s,1)}s=0;for(D=r.length;s<
D;s++)if(r[s]&&r[s]._natives&&r[s]._natives.type===b){r.splice(s,1);s--;D--}};e.compositions={};e.compose=function(a,b,l){e.manifest[a]=l||b.manifest||{};e.compositions[a]=b};e.plugin.effect=e.effect=e.compose;var L=/^(?:\.|#|\[)/;e.dom={debug:false,find:function(a,b){var l=null;b=b||i;if(a){if(!L.test(a)){l=i.getElementById(a);if(l!==null)return l}try{l=b.querySelector(a)}catch(k){if(e.dom.debug)throw Error(k);}}return l}};var B=/\?/,G={ajax:null,url:"",data:"",dataType:"",success:e.nop,type:"GET",
async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8"};e.xhr=function(a){a.dataType=a.dataType&&a.dataType.toLowerCase()||null;if(a.dataType&&(a.dataType==="jsonp"||a.dataType==="script"))e.xhr.getJSONP(a.url,a.success,a.dataType==="script");else{a=e.extend({},G,a);a.ajax=new XMLHttpRequest;if(a.ajax){if(a.type==="GET"&&a.data){a.url+=(B.test(a.url)?"&":"?")+a.data;a.data=null}a.ajax.open(a.type,a.url,a.async);a.type==="POST"&&a.ajax.setRequestHeader("Content-Type",a.contentType);
a.ajax.send(a.data||null);return e.xhr.httpData(a)}}};e.xhr.httpData=function(a){var b,l=null,k,r=null;a.ajax.onreadystatechange=function(){if(a.ajax.readyState===4){try{l=JSON.parse(a.ajax.responseText)}catch(s){}b={xml:a.ajax.responseXML,text:a.ajax.responseText,json:l};if(!b.xml||!b.xml.documentElement){b.xml=null;try{k=new DOMParser;r=k.parseFromString(a.ajax.responseText,"text/xml");if(!r.getElementsByTagName("parsererror").length)b.xml=r}catch(D){}}if(a.dataType)b=b[a.dataType];a.success.call(a.ajax,
b)}};return b};e.xhr.getJSONP=function(a,b,l){var k=i.head||i.getElementsByTagName("head")[0]||i.documentElement,r=i.createElement("script"),s=false,D=[];D=/(=)\?(?=&|$)|\?\?/;var E,A;if(!l){A=a.match(/(callback=[^&]*)/);if(A!==null&&A.length){D=A[1].split("=")[1];if(D==="?")D="jsonp";E=e.guid(D);a=a.replace(/(callback=[^&]*)/,"callback="+E)}else{E=e.guid("jsonp");if(D.test(a))a=a.replace(D,"$1"+E);D=a.split(/\?(.+)?/);a=D[0]+"?";if(D[1])a+=D[1]+"&";a+="callback="+E}window[E]=function(v){b&&b(v);
s=true}}r.addEventListener("load",function(){l&&b&&b();s&&delete window[E];k.removeChild(r)},false);r.src=a;k.insertBefore(r,k.firstChild)};e.getJSONP=e.xhr.getJSONP;e.getScript=e.xhr.getScript=function(a,b){return e.xhr.getJSONP(a,b,true)};e.util={toSeconds:function(a,b){var l=/^([0-9]+:){0,2}[0-9]+([.;][0-9]+)?$/,k,r,s;if(typeof a==="number")return a;typeof a==="string"&&!l.test(a)&&e.error("Invalid time format");l=a.split(":");k=l.length-1;r=l[k];if(r.indexOf(";")>-1){r=r.split(";");s=0;if(b&&
typeof b==="number")s=parseFloat(r[1],10)/b;l[k]=parseInt(r[0],10)+s}k=l[0];return{1:parseFloat(k,10),2:parseInt(k,10)*60+parseFloat(l[1],10),3:parseInt(k,10)*3600+parseInt(l[1],10)*60+parseFloat(l[2],10)}[l.length||1]}};e.p.cue=e.p.exec;e.protect={natives:function(a){return Object.keys?Object.keys(a):function(b){var l,k=[];for(l in b)t.call(b,l)&&k.push(l);return k}(a)}(e.p).map(function(a){return a.toLowerCase()})};e.forEach({listen:"on",unlisten:"off",trigger:"emit",exec:"cue"},function(a,b){var l=
e.p[b];e.p[b]=function(){if(typeof console!=="undefined"&&console.warn){console.warn("Deprecated method '"+b+"', "+(a==null?"do not use.":"use '"+a+"' instead."));e.p[b]=l}return e.p[a].apply(this,[].slice.call(arguments))}});n.Popcorn=e}else{n.Popcorn={isSupported:false};for(f="byId forEach extend effects error guid sizeOf isArray nop position disable enable destroyaddTrackEvent removeTrackEvent getTrackEvents getTrackEvent getLastTrackEventId timeUpdate plugin removePlugin compose effect xhr getJSONP getScript".split(/\s+/);f.length;)n.Popcorn[f.shift()]=
function(){}}})(window,window.document);(function(n,i){function j(f){f=typeof f==="string"?f:[f.language,f.region].join("-");var g=f.split("-");return{iso6391:f,language:g[0]||"",region:g[1]||""}}var d=n.navigator,c=j(d.userLanguage||d.language);i.locale={get:function(){return c},set:function(f){c=j(f);i.locale.broadcast();return c},broadcast:function(f){var g=i.instances,h=g.length,m=0,t;for(f=f||"locale:changed";m<h;m++){t=g[m];f in t.data.events&&t.trigger(f)}}}})(this,this.Popcorn);(function(n){var i=Object.prototype.hasOwnProperty;n.parsers={};n.parser=function(j,d,c){if(n.protect.natives.indexOf(j.toLowerCase())>=0)n.error("'"+j+"' is a protected function name");else{if(typeof d==="function"&&!c){c=d;d=""}if(!(typeof c!=="function"||typeof d!=="string")){var f={};f[j]=function(g,h){if(!g)return this;var m=this;n.xhr({url:g,dataType:d,success:function(t){var o,x,p=0;t=c(t).data||[];if(o=t.length){for(;p<o;p++){x=t[p];for(var u in x)i.call(x,u)&&m[u]&&m[u](x[u])}h&&h()}}});
return this};n.extend(n.p,f);return f}}}})(Popcorn);(function(n){var i=function(j,d){j=j||n.nop;d=d||n.nop;return function(){j.apply(this,arguments);d.apply(this,arguments)}};n.player=function(j,d){if(!n[j]){d=d||{};var c=function(f,g,h){h=h||{};var m=new Date/1E3,t=m,o=0,x=0,p=1,u=false,y={},I=typeof f==="string"?n.dom.find(f):f,F={};Object.prototype.__defineGetter__||(F=I||document.createElement("div"));for(var e in I)if(!(e in F))if(typeof I[e]==="object")F[e]=I[e];else if(typeof I[e]==="function")F[e]=function(B){return"length"in I[B]&&!I[B].call?
I[B]:function(){return I[B].apply(I,arguments)}}(e);else n.player.defineProperty(F,e,{get:function(B){return function(){return I[B]}}(e),set:n.nop,configurable:true});var L=function(){m=new Date/1E3;if(!F.paused){F.currentTime+=m-t;F.dispatchEvent("timeupdate");setTimeout(L,10)}t=m};F.play=function(){this.paused=false;if(F.readyState>=4){t=new Date/1E3;F.dispatchEvent("play");L()}};F.pause=function(){this.paused=true;F.dispatchEvent("pause")};n.player.defineProperty(F,"currentTime",{get:function(){return o},
set:function(B){o=+B;F.dispatchEvent("timeupdate");return o},configurable:true});n.player.defineProperty(F,"volume",{get:function(){return p},set:function(B){p=+B;F.dispatchEvent("volumechange");return p},configurable:true});n.player.defineProperty(F,"muted",{get:function(){return u},set:function(B){u=+B;F.dispatchEvent("volumechange");return u},configurable:true});n.player.defineProperty(F,"readyState",{get:function(){return x},set:function(B){return x=B},configurable:true});F.addEventListener=function(B,
G){y[B]||(y[B]=[]);y[B].push(G);return G};F.removeEventListener=function(B,G){var a,b=y[B];if(b){for(a=y[B].length-1;a>=0;a--)G===b[a]&&b.splice(a,1);return G}};F.dispatchEvent=function(B){var G,a=B.type;if(!a){a=B;if(B=n.events.getInterface(a)){G=document.createEvent(B);G.initEvent(a,true,true,window,1)}}if(y[a])for(B=y[a].length-1;B>=0;B--)y[a][B].call(this,G,this)};F.src=g||"";F.duration=0;F.paused=true;F.ended=0;h&&h.events&&n.forEach(h.events,function(B,G){F.addEventListener(G,B,false)});if(d._canPlayType(I.nodeName,
g)!==false)if(d._setup)d._setup.call(F,h);else{F.readyState=4;F.dispatchEvent("loadedmetadata");F.dispatchEvent("loadeddata");F.dispatchEvent("canplaythrough")}else setTimeout(function(){F.dispatchEvent("error")},0);f=new n.p.init(F,h);if(d._teardown)f.destroy=i(f.destroy,function(){d._teardown.call(F,h)});return f};c.canPlayType=d._canPlayType=d._canPlayType||n.nop;n[j]=n.player.registry[j]=c}};n.player.registry={};n.player.defineProperty=Object.defineProperty||function(j,d,c){j.__defineGetter__(d,
c.get||n.nop);j.__defineSetter__(d,c.set||n.nop)};n.player.playerQueue=function(){var j=[],d=false;return{next:function(){d=false;j.shift();j[0]&&j[0]()},add:function(c){j.push(function(){d=true;c&&c()});!d&&j[0]()}}};n.smart=function(j,d,c){var f=typeof j==="string"?n.dom.find(j):j,g,h,m,t,o,x="HTMLVimeoVideoElement HTMLSoundCloudAudioElement HTMLNullVideoElement".split(" ");if(f){d=typeof d==="string"?[d]:d;j=0;for(o=d.length;j<o;j++){g=d[j];for(h=0;h<x.length;h++)if((t=n[x[h]])&&t._canPlaySrc(g)===
"probably"){m=t(f);d=n(m,c);setTimeout(function(){m.src=g},0);return d}for(var p in n.player.registry)if(n.player.registry.hasOwnProperty(p))if(n.player.registry[p].canPlayType(f.nodeName,g))return n[p](f,g,c)}p=n.guid("popcorn-video-");h=document.createElement("div");h.style.width="100%";h.style.height="100%";f.appendChild(h);x='<video id="'+p+'" preload=auto autobuffer>';j=0;for(o=d.length;j<o;j++)x+='<source src="'+d[j]+'">';x+="</video>";h.innerHTML=x;c&&c.events&&c.events.error&&f.addEventListener("error",
c.events.error,false);return n("#"+p,c)}else n.error("Specified target `"+j+"` was not found.")}})(Popcorn);(function(n){document.addEventListener("DOMContentLoaded",function(){var i=document.querySelectorAll("[data-timeline-sources]");n.forEach(i,function(j,d){var c=i[d],f,g,h;if(!c.id)c.id=n.guid("__popcorn");if(c.nodeType&&c.nodeType===1){h=n("#"+c.id);f=(c.getAttribute("data-timeline-sources")||"").split(",");f[0]&&n.forEach(f,function(m){g=m.split("!");if(g.length===1){g=m.match(/(.*)[\/\\]([^\/\\]+\.\w+)$/)[2].split(".");g[0]="parse"+g[1].toUpperCase();g[1]=m}f[0]&&h[g[0]]&&h[g[0]](g[1])});h.autoplay()&&
h.play()}})},false)})(Popcorn);(function(n,i){function j(f){var g=j.options;f=g.parser[g.strictMode?"strict":"loose"].exec(f);for(var h={},m=14;m--;)h[g.key[m]]=f[m]||"";h[g.q.name]={};h[g.key[12]].replace(g.q.parser,function(t,o,x){if(o)h[g.q.name][o]=x});return h}function d(){}j.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var c={length:0,start:n.nop,end:n.nop};MediaError=MediaError||function(){function f(g,h){this.code=g||null;this.message=h||""}f.MEDIA_ERR_NONE_ACTIVE=0;f.MEDIA_ERR_ABORTED=1;f.MEDIA_ERR_NETWORK=2;f.MEDIA_ERR_DECODE=3;f.MEDIA_ERR_NONE_SUPPORTED=4;return f}();d.prototype={_util:{type:"HTML5",TIMEUPDATE_MS:250,
MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(f){return typeof f==="string"||f===true},parseUri:j},addEventListener:function(f,g,h){i.addEventListener(this._eventNamespace+f,g,h)},removeEventListener:function(f,g,h){i.removeEventListener(this._eventNamespace+f,g,h)},dispatchEvent:function(f){var g=i.createEvent("CustomEvent");g.initCustomEvent(this._eventNamespace+f,false,false,{type:f,target:this.parentNode,data:null});i.dispatchEvent(g)},load:n.nop,canPlayType:function(){return""},getBoundingClientRect:function(){return this.parentNode.getBoundingClientRect()},
NETWORK_EMPTY:0,NETWORK_IDLE:1,NETWORK_LOADING:2,NETWORK_NO_SOURCE:3,HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};d.prototype.constructor=d;Object.defineProperties(d.prototype,{currentSrc:{get:function(){return this.src!==undefined?this.src:""}},preload:{get:function(){return"auto"},set:n.nop},controls:{get:function(){return true},set:n.nop},poster:{get:function(){return""},set:n.nop},crossorigin:{get:function(){return""}},played:{get:function(){return c}},
seekable:{get:function(){return c}},buffered:{get:function(){return c}},defaultMuted:{get:function(){return false}},defaultPlaybackRate:{get:function(){return 1}},style:{get:function(){return this.parentNode.style}},id:{get:function(){return this.parentNode.id}}});n._MediaElementProto=d})(Popcorn,window.document);(function(n,i){function j(){return"maybe"}function d(c,f){var g=typeof c==="string"?i.querySelector(c):c,h=i.createElement(f);g.appendChild(h);h._canPlaySrc=j;return h}n.HTMLVideoElement=function(c){return d(c,"video")};n.HTMLVideoElement._canPlaySrc=j;n.HTMLAudioElement=function(c){return d(c,"audio")};n.HTMLAudioElement._canPlaySrc=j})(Popcorn,window.document);(function(n,i){function j(g){this.startTime=0;this.currentTime=g.currentTime||0;this.duration=g.duration||NaN;this.playInterval=null;this.paused=true;this.ended=g.endedCallback||n.nop}function d(g){function h(G){L.unshift(G)}function m(G){if(I){e.seeking=true;p.dispatchEvent("seeking");F.seekTo(G);e.ended=false;e.seeking=false;p.dispatchEvent("timeupdate");p.dispatchEvent("seeked");p.dispatchEvent("canplay");p.dispatchEvent("canplaythrough")}else h(function(){m(G)})}function t(){p.dispatchEvent("timeupdate")}
function o(){e.paused=true;clearInterval(B);p.dispatchEvent("pause")}function x(){if(e.loop){m(0);p.play()}else{e.ended=true;o();p.dispatchEvent("timeupdate");p.dispatchEvent("ended")}}var p=this,u=typeof g==="string"?i.querySelector(g):g,y=i.createElement("div"),I=false,F,e={src:c,networkState:p.NETWORK_EMPTY,readyState:p.HAVE_NOTHING,autoplay:c,preload:c,controls:c,loop:false,poster:c,volume:1,muted:false,width:u.width|0?u.width:p._util.MIN_WIDTH,height:u.height|0?u.height:p._util.MIN_HEIGHT,seeking:false,
ended:false,paused:1,error:null},L=[],B;p._eventNamespace=n.guid("HTMLNullVideoElement::");p.parentNode=u;p._util.type="NullVideo";p.play=function(){if(I){F.play();if(e.paused){if(e.paused===1){e.paused=false;p.dispatchEvent("play");p.dispatchEvent("playing")}else{if(e.ended){m(0);e.ended=false}if(e.paused){e.paused=false;e.loop||p.dispatchEvent("play");p.dispatchEvent("playing")}}B=setInterval(t,p._util.TIMEUPDATE_MS)}}else h(function(){p.play()})};p.pause=function(){if(I){F.pause();e.paused||o()}else h(function(){p.pause()})};
Object.defineProperties(p,{src:{get:function(){return e.src},set:function(G){if(G&&G!==e.src)if(p._canPlaySrc(G)){e.src=G;if(I)if(I&&F){F.pause();F=null;u.removeChild(y);y=i.createElement("div")}y.width=e.width;y.height=e.height;u.appendChild(y);G=f.exec(G);F=new j({currentTime:+G[1],duration:+G[2],endedCallback:x});p.dispatchEvent("loadstart");p.dispatchEvent("progress");p.dispatchEvent("durationchange");I=true;e.networkState=p.NETWORK_IDLE;e.readyState=p.HAVE_METADATA;p.dispatchEvent("loadedmetadata");
p.dispatchEvent("loadeddata");e.readyState=p.HAVE_FUTURE_DATA;p.dispatchEvent("canplay");e.readyState=p.HAVE_ENOUGH_DATA;p.dispatchEvent("canplaythrough");for(G=L.length;G--;){L[G]();delete L[G]}e.autoplay&&p.play()}else{e.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED};p.dispatchEvent("error")}}},autoplay:{get:function(){return e.autoplay},set:function(G){e.autoplay=p._util.isAttributeSet(G)}},loop:{get:function(){return e.loop},set:function(G){e.loop=
p._util.isAttributeSet(G)}},width:{get:function(){return y.width},set:function(G){y.width=G;e.width=y.width}},height:{get:function(){return y.height},set:function(G){y.height=G;e.height=y.height}},currentTime:{get:function(){var G;G=I?F.currentTime:0;return G},set:function(G){m(G)}},duration:{get:function(){return F?F.duration:NaN}},ended:{get:function(){return e.ended}},paused:{get:function(){return e.paused}},seeking:{get:function(){return e.seeking}},readyState:{get:function(){return e.readyState}},
networkState:{get:function(){return e.networkState}},volume:{get:function(){return e.volume},set:function(G){if(G<0||G>1)throw"Volume value must be between 0.0 and 1.0";e.volume=G;p.dispatchEvent("volumechange")}},muted:{get:function(){return e.muted},set:function(G){G=p._util.isAttributeSet(G);e.muted=G;p.dispatchEvent("volumechange")}},error:{get:function(){return e.error}}})}var c="",f=/#t=(\d+\.?\d*)?,?(\d+\.?\d*)/;j.prototype={play:function(){var g=this;if(this.paused){this.paused=false;this.startTime=
Date.now();this.playInterval=setInterval(function(){g.currentTime+=(Date.now()-g.startTime)/1E3;g.startTime=Date.now();if(g.currentTime>=g.duration){g.currentTime=g.duration;g.pause();g.ended()}},16)}},pause:function(){if(!this.paused){this.paused=true;clearInterval(this.playInterval)}},seekTo:function(g){g=g<0?0:g;this.currentTime=g=g>this.duration?this.duration:g}};d.prototype=new n._MediaElementProto;d.prototype.constructor=d;d.prototype._canPlaySrc=function(g){return f.test(g)?"probably":c};d.prototype.canPlayType=
function(g){return g==="video/x-nullvideo"?"probably":c};n.HTMLNullVideoElement=function(g){return new d(g)};n.HTMLNullVideoElement._canPlaySrc=d.prototype._canPlaySrc})(Popcorn,document);(function(n,i,j){function d(){if(!t){n.getScript("//w.soundcloud.com/player/api.js",function(){n.getScript("//connect.soundcloud.com/sdk.js",function(){m=true;SC.initialize({client_id:"PRaNFlda6Bhf5utPjUsptg"});for(var x=o.length;x--;){o[x]();delete o[x]}})});t=true}return m}function c(x){o.unshift(x)}function f(x){function p(C){w.unshift(C)}function u(){q.bind(SC.Widget.Events.LOAD_PROGRESS,function(C){G({type:"loadProgress",data:C.currentPosition/1E3})});q.bind(SC.Widget.Events.PLAY_PROGRESS,function(C){G({type:"playProgress",
data:C.currentPosition/1E3})});q.bind(SC.Widget.Events.PLAY,function(){G({type:"play"})});q.bind(SC.Widget.Events.PAUSE,function(){G({type:"pause"})});q.bind(SC.Widget.Events.SEEK,function(C){var P=C.currentPosition/1E3;if(A.seeking)if(A.currentTime/A.duration>=C.loadedProgress)q.seekTo(A.currentTime*1E3);else{A.ended=false;A.seeking=false;s.dispatchEvent("timeupdate");s.dispatchEvent("seeked");s.dispatchEvent("canplay");s.dispatchEvent("canplaythrough")}else G({type:"seek",data:P})});q.bind(SC.Widget.Events.FINISH,
function(){G({type:"finish"})});v=true;q.getDuration(I)}function y(){q.bind(SC.Widget.Events.PLAY_PROGRESS,function(C){q.setVolume(0);if(C.loadedProgress>0){q.unbind(SC.Widget.Events.PLAY_PROGRESS);q.bind(SC.Widget.Events.PAUSE,function(){q.unbind(SC.Widget.Events.PAUSE);q.setVolume(100);u()});q.pause()}});q.play()}function I(C){C/=1E3;var P=A.duration;if(P!==C){A.duration=C;s.dispatchEvent("durationchange");if(isNaN(P)){A.networkState=s.NETWORK_IDLE;A.readyState=s.HAVE_METADATA;s.dispatchEvent("loadedmetadata");
s.dispatchEvent("loadeddata");A.readyState=s.HAVE_FUTURE_DATA;s.dispatchEvent("canplay");A.readyState=s.HAVE_ENOUGH_DATA;s.dispatchEvent("canplaythrough");for(C=w.length;C--;){w[C]();delete w[C]}A.paused&&A.autoplay&&s.play()}}}function F(C){function P(){A.seeking=true;s.dispatchEvent("seeking");q.seekTo(C)}A.currentTime=C;C*=1E3;v?P():addMediaReadyCallback(P)}function e(){A.paused=true;if(!z){z=true;clearInterval(O);s.dispatchEvent("pause")}}function L(){s.dispatchEvent("timeupdate")}function B(C){A.currentTime=
C;C!==K&&s.dispatchEvent("timeupdate");K=C}function G(C){switch(C.type){case "loadProgress":s.dispatchEvent("progress");break;case "playProgress":B(C.data);break;case "play":if(!N){N=setInterval(a,g);A.loop&&s.dispatchEvent("play")}O=setInterval(L,s._util.TIMEUPDATE_MS);A.paused=false;if(z){z=false;A.loop||s.dispatchEvent("play");s.dispatchEvent("playing")}break;case "pause":e();break;case "finish":if(A.loop){F(0);s.play()}else{A.ended=true;s.pause();e();s.dispatchEvent("timeupdate");s.dispatchEvent("ended")}break;
case "seek":B(C.data)}}function a(){A.ended||q.getPosition(function(C){B(C/1E3)})}function b(C){if(s._canPlaySrc(C)){A.src=C;if(v)if(v&&q){clearInterval(N);q.pause();q.unbind(SC.Widget.Events.READY);q.unbind(SC.Widget.Events.LOAD_PROGRESS);q.unbind(SC.Widget.Events.PLAY_PROGRESS);q.unbind(SC.Widget.Events.PLAY);q.unbind(SC.Widget.Events.PAUSE);q.unbind(SC.Widget.Events.SEEK);q.unbind(SC.Widget.Events.FINISH);D.removeChild(E);E=j.createElement("iframe")}if(d()){v=false;SC.get("/resolve",{url:C},function(P){E.id=
n.guid("soundcloud-");E.width=A.width;E.height=A.height;E.frameBorder=0;E.webkitAllowFullScreen=true;E.mozAllowFullScreen=true;E.allowFullScreen=true;r(A.controls);D.appendChild(E);E.onload=function(){E.onload=null;q=SC.Widget(E);q.bind(SC.Widget.Events.READY,y);A.networkState=s.NETWORK_LOADING;s.dispatchEvent("loadstart");s.dispatchEvent("progress")};E.src="https://w.soundcloud.com/player/?url="+P.uri+"&show_artwork=false&buying=false&liking=false&sharing=false&download=false&show_comments=false&show_user=false&single_active=false"})}else c(function(){b(C)})}else{A.error=
{name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED};s.dispatchEvent("error")}}function l(C){A.volume=C;if(v){q.setVolume(C);s.dispatchEvent("volumechange")}else p(function(){l(C)})}function k(C){if(v)if(C){A.muted=A.volume;l(0)}else{A.muted=0;l(A.muted)}else{A.muted=C?1:0;p(function(){k(C)})}}function r(C){if(v){E.style.position="absolute";E.style.visibility=C?"visible":"hidden"}else{E.style.opacity=C?"1":"0";E.style.pointerEvents=C?"auto":"none"}A.controls=
C}if(!i.postMessage)throw"ERROR: HTMLSoundCloudAudioElement requires window.postMessage";var s=this,D=typeof x==="string"?n.dom.find(x):x,E=j.createElement("iframe"),A={src:h,networkState:s.NETWORK_EMPTY,readyState:s.HAVE_NOTHING,seeking:false,autoplay:h,preload:h,controls:false,loop:false,poster:h,volume:100,muted:0,currentTime:0,duration:NaN,ended:false,paused:true,width:D.width|0?D.width:s._util.MIN_WIDTH,height:D.height|0?D.height:s._util.MIN_HEIGHT,error:null},v=false,z=true,q,w=[],O,N,K=0;s._eventNamespace=
n.guid("HTMLSoundCloudAudioElement::");s.parentNode=D;s._util.type="SoundCloud";s.play=function(){A.paused=false;if(v){A.ended&&F(0);q.play()}else p(function(){s.play()})};s.pause=function(){A.paused=true;v?q.pause():p(function(){s.pause()})};Object.defineProperties(s,{src:{get:function(){return A.src},set:function(C){C&&C!==A.src&&b(C)}},autoplay:{get:function(){return A.autoplay},set:function(C){A.autoplay=s._util.isAttributeSet(C)}},loop:{get:function(){return A.loop},set:function(C){A.loop=s._util.isAttributeSet(C)}},
width:{get:function(){return E.width},set:function(C){E.width=C;A.width=E.width}},height:{get:function(){return E.height},set:function(C){E.height=C;A.height=E.height}},currentTime:{get:function(){return A.currentTime},set:function(C){F(C)}},duration:{get:function(){return A.duration}},ended:{get:function(){return A.ended}},paused:{get:function(){return A.paused}},seeking:{get:function(){return A.seeking}},readyState:{get:function(){return A.readyState}},networkState:{get:function(){return A.networkState}},
volume:{get:function(){return(A.muted>0?A.muted:A.volume)/100},set:function(C){if(C<0||C>1)throw"Volume value must be between 0.0 and 1.0";C*=100;l(C)}},muted:{get:function(){return A.muted>0},set:function(C){k(s._util.isAttributeSet(C))}},error:{get:function(){return A.error}},controls:{get:function(){return A.controls},set:function(C){r(!!C)}}})}var g=16,h="",m=false,t=false,o=[];f.prototype=new n._MediaElementProto;f.prototype._canPlaySrc=function(x){return/(?:https?:\/\/www\.|https?:\/\/|www\.|\.|^)(soundcloud)/.test(x)?
"probably":h};f.prototype.canPlayType=function(x){return x==="audio/x-soundcloud"?"probably":h};n.HTMLSoundCloudAudioElement=function(x){return new f(x)};n.HTMLSoundCloudAudioElement._canPlaySrc=f.prototype._canPlaySrc})(Popcorn,window,document);(function(n,i,j){function d(m){var t=this,o=m.src.split("?")[0];if(o.substr(0,2)==="//")o=i.location.protocol+o;"play pause paused seekTo unload getCurrentTime getDuration getVideoEmbedCode getVideoHeight getVideoWidth getVideoUrl getColor setColor setLoop getVolume setVolume addEventListener".split(" ").forEach(function(x){t[x]=function(p){p=JSON.stringify({method:x,value:p});m.contentWindow&&m.contentWindow.postMessage(p,o)}})}function c(m){function t(v){s.unshift(v)}function o(v){var z=b.duration;
if(z!==v){b.duration=v;B.dispatchEvent("durationchange");if(isNaN(z)){b.networkState=B.NETWORK_IDLE;b.readyState=B.HAVE_METADATA;B.dispatchEvent("loadedmetadata");B.dispatchEvent("loadeddata");b.readyState=B.HAVE_FUTURE_DATA;B.dispatchEvent("canplay");b.readyState=B.HAVE_ENOUGH_DATA;B.dispatchEvent("canplaythrough");b.autoplay&&B.play();for(v=s.length;v--;){s[v]();delete s[v]}}}}function x(v){if(l){b.seeking=true;B.dispatchEvent("seeking");r.seekTo(v)}else t(function(){x(v)})}function p(){B.dispatchEvent("timeupdate")}
function u(v){(b.currentTime=v)!==A&&B.dispatchEvent("timeupdate");A=b.currentTime}function y(v){if(v.origin===h){var z;try{z=JSON.parse(v.data)}catch(q){console.warn(q)}if(z.player_id==k)switch(z.event){case "ready":r=new d(a);r.addEventListener("loadProgress");r.addEventListener("pause");r.setVolume(0);r.play();break;case "loadProgress":if(parseFloat(z.data.duration)>0&&!l){l=true;r.pause()}break;case "pause":r.setVolume(1);i.removeEventListener("message",y,false);i.addEventListener("message",I,
false);r.addEventListener("loadProgress");r.addEventListener("playProgress");r.addEventListener("play");r.addEventListener("pause");r.addEventListener("finish");r.addEventListener("seek");r.getDuration();b.networkState=B.NETWORK_LOADING;B.dispatchEvent("loadstart");B.dispatchEvent("progress")}}}function I(v){if(v.origin===h){var z;try{z=JSON.parse(v.data)}catch(q){console.warn(q)}if(z.player_id==k){switch(z.method){case "getCurrentTime":u(parseFloat(z.value));break;case "getDuration":o(parseFloat(z.value));
break;case "getVolume":v=parseFloat(z.value);if(b.volume!==v){b.volume=v;B.dispatchEvent("volumechange")}}switch(z.event){case "loadProgress":B.dispatchEvent("progress");o(parseFloat(z.data.duration));break;case "playProgress":u(parseFloat(z.data.seconds));break;case "play":b.ended&&x(0);if(!E){E=setInterval(F,f);b.loop&&B.dispatchEvent("play")}D=setInterval(p,B._util.TIMEUPDATE_MS);if(b.paused){b.paused=false;b.loop||B.dispatchEvent("play");B.dispatchEvent("playing")}break;case "pause":b.paused=
true;clearInterval(D);B.dispatchEvent("pause");break;case "finish":if(b.loop){x(0);B.play()}else{b.ended=true;B.dispatchEvent("ended")}break;case "seek":u(parseFloat(z.data.seconds));b.seeking=false;B.dispatchEvent("timeupdate");B.dispatchEvent("seeked");B.dispatchEvent("canplay");B.dispatchEvent("canplaythrough");b.paused&&B.pause()}}}}function F(){r.getCurrentTime()}function e(v){b.volume=v;if(l){r.setVolume(v);B.dispatchEvent("volumechange")}else t(function(){e(v)})}function L(v){if(l)if(v){b.muted=
b.volume;e(0)}else{b.muted=0;e(b.muted)}else{b.muted=v?1:0;t(function(){L(v)})}}if(!i.postMessage)throw"ERROR: HTMLVimeoVideoElement requires window.postMessage";var B=this,G=typeof m==="string"?n.dom.find(m):m,a=j.createElement("iframe"),b={src:g,networkState:B.NETWORK_EMPTY,readyState:B.HAVE_NOTHING,seeking:false,autoplay:g,preload:g,controls:false,loop:false,poster:g,volume:1,muted:0,currentTime:0,duration:NaN,ended:false,paused:true,error:null},l=false,k=n.guid(),r,s=[],D,E,A=0;B._eventNamespace=
n.guid("HTMLVimeoVideoElement::");B.parentNode=G;B._util.type="Vimeo";B.play=function(){l?r.play():t(function(){B.play()})};B.pause=function(){l?r.pause():t(function(){B.pause()})};Object.defineProperties(B,{src:{get:function(){return b.src},set:function(v){if(v&&v!==b.src)if(B._canPlaySrc(v)){b.src=v;if(l)if(l&&r){clearInterval(E);r.pause();i.removeEventListener("message",I,false);G.removeChild(a);a=j.createElement("iframe")}l=false;v=B._util.parseUri(v);var z=v.queryKey,q,w=["api=1","player_id="+
k,"title=0","byline=0","portrait=0"];b.loop=z.loop==="1"||b.loop;delete z.loop;b.autoplay=z.autoplay==="1"||b.autoplay;delete z.autoplay;v=h+"/video/"+/\d+$/.exec(v.path)+"?";for(q in z)z.hasOwnProperty(q)&&w.push(encodeURIComponent(q)+"="+encodeURIComponent(z[q]));v+=w.join("&");a.id=k;a.style.width="100%";a.style.height="100%";a.frameBorder=0;a.webkitAllowFullScreen=true;a.mozAllowFullScreen=true;a.allowFullScreen=true;G.appendChild(a);a.src=v;i.addEventListener("message",y,false)}else{b.error=
{name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED};B.dispatchEvent("error")}}},autoplay:{get:function(){return b.autoplay},set:function(v){b.autoplay=B._util.isAttributeSet(v)}},loop:{get:function(){return b.loop},set:function(v){b.loop=B._util.isAttributeSet(v)}},width:{get:function(){return B.parentNode.offsetWidth}},height:{get:function(){return B.parentNode.offsetHeight}},currentTime:{get:function(){return b.currentTime},set:function(v){x(v)}},
duration:{get:function(){return b.duration}},ended:{get:function(){return b.ended}},paused:{get:function(){return b.paused}},seeking:{get:function(){return b.seeking}},readyState:{get:function(){return b.readyState}},networkState:{get:function(){return b.networkState}},volume:{get:function(){return b.muted>0?b.muted:b.volume},set:function(v){if(v<0||v>1)throw"Volume value must be between 0.0 and 1.0";e(v)}},muted:{get:function(){return b.muted>0},set:function(v){L(B._util.isAttributeSet(v))}},error:{get:function(){return b.error}}})}
var f=16,g="",h=i.location.protocol+"//player.vimeo.com";c.prototype=new n._MediaElementProto;c.prototype.constructor=c;c.prototype._canPlaySrc=function(m){return/player.vimeo.com\/video\/\d+/.test(m)||/vimeo.com\/\d+/.test(m)?"probably":g};c.prototype.canPlayType=function(m){return m==="video/x-vimeo"?"probably":g};n.HTMLVimeoVideoElement=function(m){return new c(m)};n.HTMLVimeoVideoElement._canPlaySrc=c.prototype._canPlaySrc})(Popcorn,window,document);(function(n,i,j){function d(){if(!x){var u=j.createElement("script");u.src=(i.location.protocol==="file:"?"http:":"")+"//www.youtube.com/iframe_api";var y=j.getElementsByTagName("script")[0];y.parentNode.insertBefore(u,y);x=true}return o}function c(u){p.unshift(u)}function f(u){function y(H){Q.unshift(H)}function I(){var H=function(){M.isMuted()?M.playVideo():setTimeout(H,0)};O=true;M.mute();H()}function F(){if(!C)return w.duration;var H=w.duration,J=M.getDuration();if(J){if(H!==J){w.duration=J;v.dispatchEvent("durationchange")}}else setTimeout(F,
50);return J}function e(H){var J={name:"MediaError"};switch(H.data){case 2:J.message="Invalid video parameter.";J.code=MediaError.MEDIA_ERR_ABORTED;break;case 5:J.message="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.";J.code=MediaError.MEDIA_ERR_DECODE;case 100:J.message="Video not found.";J.code=MediaError.MEDIA_ERR_NETWORK;break;case 101:case 150:J.message="Video not usable.";J.code=MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED;break;
default:J.message="Unknown error.";J.code=5}w.error=J;v.dispatchEvent("error")}function L(H){switch(H.data){case YT.PlayerState.ENDED:if(w.loop){b(0);v.play()}else{w.ended=true;D();K=true;v.dispatchEvent("timeupdate");v.dispatchEvent("ended")}break;case YT.PlayerState.PLAYING:if(T){T=false;y(function(){S=setInterval(a,50)});if(w.autoplay||!w.paused){w.paused=false;y(function(){s()})}else{N=false;M.pauseVideo()}w.muted||M.unMute();w.duration=M.getDuration();w.readyState=v.HAVE_METADATA;v.dispatchEvent("loadedmetadata");
U=setInterval(G,g);v.dispatchEvent("loadeddata");w.readyState=v.HAVE_FUTURE_DATA;v.dispatchEvent("canplay");C=true;for(var J=Q.length;J--;){Q[J]();delete Q[J]}w.readyState=v.HAVE_ENOUGH_DATA;v.dispatchEvent("canplaythrough")}else if(K){K=false;M.pauseVideo()}else s();break;case YT.PlayerState.PAUSED:if(M.getDuration()===M.getCurrentTime())break;if(N){N=false;break}D();break;case YT.PlayerState.BUFFERING:w.networkState=v.NETWORK_LOADING;v.dispatchEvent("waiting")}H.data!==YT.PlayerState.BUFFERING&&
V===YT.PlayerState.BUFFERING&&v.dispatchEvent("progress");V=H.data}function B(H){if(v._canPlaySrc(H)){w.src=H;if(d()){if(O)if(O&&M){clearInterval(U);clearInterval(S);M.stopVideo();M.clearVideo();z.removeChild(q);q=j.createElement("div")}z.appendChild(q);var J=v._util.parseUri(H).queryKey;delete J.v;w.autoplay=J.autoplay==="1"||w.autoplay;delete J.autoplay;w.loop=J.loop==="1"||w.loop;delete J.loop;J.rel=J.rel||0;J.modestbranding=J.modestbranding||1;J.iv_load_policy=J.iv_load_policy||3;J.showinfo=J.showinfo||
0;var Y=i.location.protocol==="file:"?"*":i.location.protocol+"//"+i.location.host;J.origin=J.origin||Y;J.controls=J.controls||w.controls?2:0;w.controls=J.controls;J.wmode=J.wmode||"opaque";H=m.exec(H)[1];M=new YT.Player(q,{width:"100%",height:"100%",wmode:J.wmode,videoId:H,playerVars:J,events:{onReady:I,onError:e,onStateChange:L}});w.networkState=v.NETWORK_LOADING;v.dispatchEvent("loadstart");v.dispatchEvent("progress");F()}else c(function(){B(H)})}else{w.error={name:"MediaError",message:"Media Source Not Supported",
code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED};v.dispatchEvent("error")}}function G(){var H=M.getCurrentTime();if(w.seeking)t(H-w.currentTime)<1&&r();else{if(t(w.currentTime-H)>g){k();r()}w.currentTime=H}}function a(){var H=M.getVideoLoadedFraction();if(W!==H){W=H;v.dispatchEvent("progress");H>=1&&clearInterval(S)}}function b(H){w.currentTime=H;if(C){k();M.seekTo(H)}else y(function(){k();M.seekTo(H)})}function l(){v.dispatchEvent("timeupdate")}function k(){N=true;w.seeking=true;v.dispatchEvent("seeking")}
function r(){w.ended=false;w.seeking=false;v.dispatchEvent("timeupdate");v.dispatchEvent("seeked");v.dispatchEvent("canplay");v.dispatchEvent("canplaythrough")}function s(){if(w.ended){b(0);w.ended=false}X=setInterval(l,v._util.TIMEUPDATE_MS);w.paused=false;if(R){R=false;if(w.loop&&!P||!w.loop){P=true;v.dispatchEvent("play")}v.dispatchEvent("playing")}}function D(){w.paused=true;if(!R){R=true;clearInterval(X);v.dispatchEvent("pause")}}function E(H){w.volume=H;if(C){M.setVolume(w.volume*100);v.dispatchEvent("volumechange")}else y(function(){E(w.volume)})}
function A(H){w.muted=H;if(C){M[H?"mute":"unMute"]();v.dispatchEvent("volumechange")}else y(function(){A(w.muted)})}if(!i.postMessage)throw"ERROR: HTMLYouTubeVideoElement requires window.postMessage";var v=this,z=typeof u==="string"?j.querySelector(u):u,q=j.createElement("div"),w={src:h,networkState:v.NETWORK_EMPTY,readyState:v.HAVE_NOTHING,seeking:false,autoplay:h,preload:h,controls:false,loop:false,poster:h,volume:1,muted:false,currentTime:0,duration:NaN,ended:false,paused:true,error:null},O=false,
N=false,K=false,C=false,P=false,M,R=true,Q=[],V=-1,S,W=0,U,X,T=true;v._eventNamespace=n.guid("HTMLYouTubeVideoElement::");v.parentNode=z;v._util.type="YouTube";v.play=function(){w.paused=false;C?M.playVideo():y(function(){v.play()})};v.pause=function(){w.paused=true;if(C){N=false;M.pauseVideo()}else y(function(){v.pause()})};Object.defineProperties(v,{src:{get:function(){return w.src},set:function(H){H&&H!==w.src&&B(H)}},autoplay:{get:function(){return w.autoplay},set:function(H){w.autoplay=v._util.isAttributeSet(H)}},
loop:{get:function(){return w.loop},set:function(H){w.loop=v._util.isAttributeSet(H)}},width:{get:function(){return v.parentNode.offsetWidth}},height:{get:function(){return v.parentNode.offsetHeight}},currentTime:{get:function(){return w.currentTime},set:function(H){b(H)}},duration:{get:function(){return F()}},ended:{get:function(){return w.ended}},paused:{get:function(){return w.paused}},seeking:{get:function(){return w.seeking}},readyState:{get:function(){return w.readyState}},networkState:{get:function(){return w.networkState}},
volume:{get:function(){return w.volume/100},set:function(H){if(H<0||H>1)throw"Volume value must be between 0.0 and 1.0";E(H)}},muted:{get:function(){return w.muted},set:function(H){A(v._util.isAttributeSet(H))}},error:{get:function(){return w.error}},buffered:{get:function(){var H={start:function(J){if(J===0)return 0;throw"INDEX_SIZE_ERR: DOM Exception 1";},end:function(J){if(J===0){J=F();if(!J)return 0;return J*M.getVideoLoadedFraction()}throw"INDEX_SIZE_ERR: DOM Exception 1";}};Object.defineProperties(H,
{length:{get:function(){return 1}}});return H}}})}var g=10,h="",m=/^.*(?:\/|v=)(.{11})/,t=Math.abs,o=false,x=false,p=[];if(i.YT){i.quarantineYT=i.YT;i.YT=null}i.onYouTubeIframeAPIReady=function(){o=true;for(var u=p.length;u--;){p[u]();delete p[u]}};f.prototype=new n._MediaElementProto;f.prototype.constructor=f;f.prototype._canPlaySrc=function(u){return/(?:http:\/\/www\.|http:\/\/|www\.|\.|^)(youtu).*(?:\/|v=)(.{11})/.test(u)?"probably":h};f.prototype.canPlayType=function(u){return u==="video/x-youtube"?
"probably":h};n.HTMLYouTubeVideoElement=function(u){return new f(u)};n.HTMLYouTubeVideoElement._canPlaySrc=f.prototype._canPlaySrc})(Popcorn,window,document);(function(n){var i=function(j,d){var c=0,f=0,g;n.forEach(d.classes,function(h,m){g=[];if(h==="parent")g[0]=document.querySelectorAll("#"+d.target)[0].parentNode;else g=document.querySelectorAll("#"+d.target+" "+h);c=0;for(f=g.length;c<f;c++)g[c].classList.toggle(m)})};n.compose("applyclass",{manifest:{about:{name:"Popcorn applyclass Effect",version:"0.1",author:"@scottdowne",website:"scottdowne.wordpress.com"},options:{}},_setup:function(j){j.classes={};j.applyclass=j.applyclass||"";for(var d=j.applyclass.replace(/\s/g,
"").split(","),c=[],f=0,g=d.length;f<g;f++){c=d[f].split(":");if(c[0])j.classes[c[0]]=c[1]||""}},start:i,end:i})})(Popcorn);(function(n){n.plugin("code",function(i){var j=false,d=this,c=function(){var f=function(g){return function(h,m){var t=function(){j&&h.call(d,m);j&&g(t)};t()}};return window.webkitRequestAnimationFrame?f(window.webkitRequestAnimationFrame):window.mozRequestAnimationFrame?f(window.mozRequestAnimationFrame):f(function(g){window.setTimeout(g,16)})}();if(!i.onStart||typeof i.onStart!=="function")i.onStart=n.nop;if(i.onEnd&&typeof i.onEnd!=="function")i.onEnd=undefined;if(i.onFrame&&typeof i.onFrame!==
"function")i.onFrame=undefined;return{start:function(f,g){g.onStart.call(d,g);if(g.onFrame){j=true;c(g.onFrame,g)}},end:function(f,g){if(g.onFrame)j=false;g.onEnd&&g.onEnd.call(d,g)}}},{about:{name:"Popcorn Code Plugin",version:"0.1",author:"David Humphrey (@humphd)",website:"http://vocamus.net/dave"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},onStart:{elem:"input",type:"function",label:"onStart"},onFrame:{elem:"input",type:"function",label:"onFrame",
optional:true},onEnd:{elem:"input",type:"function",label:"onEnd"}}})})(Popcorn);(function(n,i){var j={};n.plugin("documentcloud",{manifest:{about:{name:"Popcorn Document Cloud Plugin",version:"0.1",author:"@humphd, @ChrisDeCairos",website:"http://vocamus.net/dave"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},target:"documentcloud-container",width:{elem:"input",type:"text",label:"Width",optional:true},height:{elem:"input",type:"text",label:"Height",optional:true},src:{elem:"input",type:"url",label:"PDF URL","default":"http://www.documentcloud.org/documents/70050-urbina-day-1-in-progress.html"},
preload:{elem:"input",type:"checkbox",label:"Preload","default":true},page:{elem:"input",type:"number",label:"Page Number",optional:true},aid:{elem:"input",type:"number",label:"Annotation Id",optional:true}}},_setup:function(d){function c(){function o(k){d._key=k.api.getId();d._changeView=function(r){d.aid?r.pageSet.showAnnotation(r.api.getAnnotation(d.aid)):r.api.setCurrentPage(d.page)}}function x(){j[d._key]={num:1,id:d._containerId};g.loaded=true}g.loaded=false;var p=d.url.replace(/\.html$/,".js"),
u=d.target,y=i.getElementById(u),I=i.createElement("div"),F=n.position(y),e=d.width||F.width;F=d.height||F.height;var L=d.sidebar||true,B=d.text||true,G=d.pdf||true,a=d.showAnnotations||true,b=d.zoom||700,l=d.search||true;if(!function(k){var r=false;n.forEach(g.viewers,function(s){if(s.api.getSchema().canonicalURL===k){o(s);s=j[d._key];d._containerId=s.id;s.num+=1;r=true;g.loaded=true}});return r}(d.url)){I.id=d._containerId=n.guid(u);u="#"+I.id;y.appendChild(I);h.trigger("documentready");g.load(p,
{width:e,height:F,sidebar:L,text:B,pdf:G,showAnnotations:a,zoom:b,search:l,container:u,afterLoad:d.page||d.aid?function(k){o(k);d._changeView(k);I.style.visibility="hidden";k.elements.pages.hide();x()}:function(k){o(k);x();I.style.visibility="hidden";k.elements.pages.hide()}})}}function f(){window.DV.loaded?c():setTimeout(f,25)}var g=window.DV=window.DV||{},h=this;if(g.loading)f();else{g.loading=true;g.recordHit="//www.documentcloud.org/pixel.gif";var m=i.createElement("link"),t=i.getElementsByTagName("head")[0];
m.rel="stylesheet";m.type="text/css";m.media="screen";m.href="//s3.documentcloud.org/viewer/viewer-datauri.css";t.appendChild(m);g.loaded=false;n.getScript("http://s3.documentcloud.org/viewer/viewer.js",function(){g.loading=false;c()})}d.toString=function(){return d.src||d._natives.manifest.options.src["default"]}},start:function(d,c){var f=i.getElementById(c._containerId),g=DV.viewers[c._key];(c.page||c.aid)&&g&&c._changeView(g);if(f&&g){f.style.visibility="visible";g.elements.pages.show()}},end:function(d,
c){var f=i.getElementById(c._containerId);if(f&&DV.viewers[c._key]){f.style.visibility="hidden";DV.viewers[c._key].elements.pages.hide()}},_teardown:function(d){var c=i.getElementById(d._containerId);if((d=d._key)&&DV.viewers[d]&&--j[d].num===0){for(DV.viewers[d].api.unload();c.hasChildNodes();)c.removeChild(c.lastChild);c.parentNode.removeChild(c)}}})})(Popcorn,window.document);(function(n){var i=0;n.plugin("flickr",function(j){var d,c=document.getElementById(j.target),f,g,h,m,t=j.numberofimages||4,o=j.height||"50px",x=j.width||"50px",p=j.padding||"5px",u=j.border||"0px";d=document.createElement("div");d.id="flickr"+i;d.style.width="100%";d.style.height="100%";d.style.display="none";i++;c&&c.appendChild(d);var y=function(){if(f)setTimeout(function(){y()},5);else{g="http://api.flickr.com/services/rest/?method=flickr.people.findByUsername&";g+="username="+j.username+"&api_key="+
j.apikey+"&format=json&jsoncallback=flickr";n.getJSONP(g,function(F){f=F.user.nsid;I()})}},I=function(){g="http://api.flickr.com/services/feeds/photos_public.gne?";if(f)g+="id="+f+"&";if(j.tags)g+="tags="+j.tags+"&";g+="lang=en-us&format=json&jsoncallback=flickr";n.xhr.getJSONP(g,function(F){var e=document.createElement("div");e.innerHTML="<p style='padding:"+p+";'>"+F.title+"<p/>";n.forEach(F.items,function(L,B){if(B<t){h=document.createElement("a");h.setAttribute("href",L.link);h.setAttribute("target",
"_blank");m=document.createElement("img");m.setAttribute("src",L.media.m);m.setAttribute("height",o);m.setAttribute("width",x);m.setAttribute("style","border:"+u+";padding:"+p);h.appendChild(m);e.appendChild(h)}else return false});d.appendChild(e)})};if(j.username&&j.apikey)y();else{f=j.userid;I()}j.toString=function(){return j.tags||j.username||"Flickr"};return{start:function(){d.style.display="inline"},end:function(){d.style.display="none"},_teardown:function(F){document.getElementById(F.target)&&
document.getElementById(F.target).removeChild(d)}}},{about:{name:"Popcorn Flickr Plugin",version:"0.2",author:"Scott Downe, Steven Weerdenburg, Annasob",website:"http://scottdowne.wordpress.com/"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},userid:{elem:"input",type:"text",label:"User ID",optional:true},tags:{elem:"input",type:"text",label:"Tags"},username:{elem:"input",type:"text",label:"Username",optional:true},apikey:{elem:"input",type:"text",
label:"API Key",optional:true},target:"flickr-container",height:{elem:"input",type:"text",label:"Height","default":"50px",optional:true},width:{elem:"input",type:"text",label:"Width","default":"50px",optional:true},padding:{elem:"input",type:"text",label:"Padding",optional:true},border:{elem:"input",type:"text",label:"Border","default":"5px",optional:true},numberofimages:{elem:"input",type:"number","default":4,label:"Number of Images"}}})})(Popcorn);(function(n){n.plugin("footnote",{manifest:{about:{name:"Popcorn Footnote Plugin",version:"0.2",author:"@annasob, @rwaldron",website:"annasob.wordpress.com"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},text:{elem:"input",type:"text",label:"Text"},target:"footnote-container"}},_setup:function(i){var j=n.dom.find(i.target);i._container=document.createElement("div");i._container.style.display="none";i._container.innerHTML=i.text;j.appendChild(i._container)},
start:function(i,j){j._container.style.display="inline"},end:function(i,j){j._container.style.display="none"},_teardown:function(i){var j=n.dom.find(i.target);j&&j.removeChild(i._container)}})})(Popcorn);(function(n){var i=1,j=false;n.plugin("googlefeed",function(d){var c=function(){var m=false,t=0,o=document.getElementsByTagName("link"),x=o.length,p=document.head||document.getElementsByTagName("head")[0],u=document.createElement("link");if(window.GFdynamicFeedControl)j=true;else n.getScript("//www.google.com/uds/solutions/dynamicfeed/gfdynamicfeedcontrol.js",function(){j=true});for(;t<x;t++)if(o[t].href==="//www.google.com/uds/solutions/dynamicfeed/gfdynamicfeedcontrol.css")m=true;if(!m){u.type=
"text/css";u.rel="stylesheet";u.href="//www.google.com/uds/solutions/dynamicfeed/gfdynamicfeedcontrol.css";p.insertBefore(u,p.firstChild)}};window.google?c():n.getScript("//www.google.com/jsapi",function(){google.load("feeds","1",{callback:function(){c()}})});var f=document.createElement("div"),g=document.getElementById(d.target),h=function(){if(j)d.feed=new GFdynamicFeedControl(d.url,f,{vertical:d.orientation.toLowerCase()==="vertical"?true:false,horizontal:d.orientation.toLowerCase()==="horizontal"?
true:false,title:d.title=d.title||"Blog"});else setTimeout(function(){h()},5)};if(!d.orientation||d.orientation.toLowerCase()!=="vertical"&&d.orientation.toLowerCase()!=="horizontal")d.orientation="vertical";f.style.display="none";f.id="_feed"+i;f.style.width="100%";f.style.height="100%";i++;g&&g.appendChild(f);h();d.toString=function(){return d.url||d._natives.manifest.options.url["default"]};return{start:function(){f.setAttribute("style","display:inline")},end:function(){f.setAttribute("style",
"display:none")},_teardown:function(m){document.getElementById(m.target)&&document.getElementById(m.target).removeChild(f);delete m.feed}}},{about:{name:"Popcorn Google Feed Plugin",version:"0.1",author:"David Seifried",website:"dseifried.wordpress.com"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},target:"feed-container",url:{elem:"input",type:"url",label:"Feed URL","default":"http://planet.mozilla.org/rss20.xml"},title:{elem:"input",type:"text",
label:"Title","default":"Planet Mozilla",optional:true},orientation:{elem:"select",options:["Vertical","Horizontal"],label:"Orientation","default":"Vertical",optional:true}}})})(Popcorn);var googleCallback;
(function(n){function i(h,m,t){h=h.type?h.type.toUpperCase():"HYBRID";var o;if(h==="STAMEN-WATERCOLOR"||h==="STAMEN-TERRAIN"||h==="STAMEN-TONER")o=h.replace("STAMEN-","").toLowerCase();t=new google.maps.Map(t,{mapTypeId:o?o:google.maps.MapTypeId[h],mapTypeControlOptions:{mapTypeIds:[]}});o&&t.mapTypes.set(o,new google.maps.StamenMapType(o));t.getDiv().style.display="none";return t}var j=1,d=false,c=false,f,g;googleCallback=function(h){if(typeof google!=="undefined"&&google.maps&&google.maps.Geocoder&&
google.maps.LatLng){f=new google.maps.Geocoder;n.getScript("//maps.stamen.com/js/tile.stamen.js",function(){c=true})}else setTimeout(function(){googleCallback(h)},1)};g=function(){if(document.body){d=true;n.getScript("//maps.google.com/maps/api/js?sensor=false&callback=googleCallback")}else setTimeout(function(){g()},1)};n.plugin("googlemap",function(h){var m,t,o,x=document.getElementById(h.target);h.type=h.type||"ROADMAP";h.zoom=h.zoom||1;h.lat=h.lat||0;h.lng=h.lng||0;d||g();m=document.createElement("div");
m.id="actualmap"+j;m.style.width=h.width||"100%";m.style.height=h.height?h.height:x&&x.clientHeight?x.clientHeight+"px":"100%";j++;x&&x.appendChild(m);var p=function(){if(c){if(m)if(h.location)f.geocode({address:h.location},function(u,y){if(m&&y===google.maps.GeocoderStatus.OK){h.lat=u[0].geometry.location.lat();h.lng=u[0].geometry.location.lng();o=new google.maps.LatLng(h.lat,h.lng);t=i(h,o,m)}});else{o=new google.maps.LatLng(h.lat,h.lng);t=i(h,o,m)}}else setTimeout(function(){p()},5)};p();h.toString=
function(){return h.location||(h.lat&&h.lng?h.lat+", "+h.lng:h._natives.manifest.options.location["default"])};return{start:function(u,y){var I=this,F,e=function(){if(t){y._map=t;t.getDiv().style.display="block";google.maps.event.trigger(t,"resize");t.setCenter(o);if(y.zoom&&typeof y.zoom!=="number")y.zoom=+y.zoom;t.setZoom(y.zoom);if(y.heading&&typeof y.heading!=="number")y.heading=+y.heading;if(y.pitch&&typeof y.pitch!=="number")y.pitch=+y.pitch;if(y.type==="STREETVIEW"){t.setStreetView(F=new google.maps.StreetViewPanorama(m,
{position:o,pov:{heading:y.heading=y.heading||0,pitch:y.pitch=y.pitch||0,zoom:y.zoom}}));var L=function(r,s){var D=google.maps.geometry.spherical.computeHeading;setTimeout(function(){var E=I.media.currentTime;if(typeof y.tween==="object"){for(var A=0,v=r.length;A<v;A++){var z=r[A];if(E>=z.interval*(A+1)/1E3&&(E<=z.interval*(A+2)/1E3||E>=z.interval*v/1E3)){l.setPosition(new google.maps.LatLng(z.position.lat,z.position.lng));l.setPov({heading:z.pov.heading||D(z,r[A+1])||0,zoom:z.pov.zoom||0,pitch:z.pov.pitch||
0})}}L(r,r[0].interval)}else{A=0;for(v=r.length;A<v;A++){z=y.interval;if(E>=z*(A+1)/1E3&&(E<=z*(A+2)/1E3||E>=z*v/1E3)){B.setPov({heading:D(r[A],r[A+1])||0,zoom:y.zoom,pitch:y.pitch||0});B.setPosition(G[A])}}L(G,y.interval)}},s)};if(y.location&&typeof y.tween==="string"){var B=F,G=[],a=new google.maps.DirectionsService,b=new google.maps.DirectionsRenderer(B);a.route({origin:y.location,destination:y.tween,travelMode:google.maps.TravelMode.DRIVING},function(r,s){if(s==google.maps.DirectionsStatus.OK){b.setDirections(r);
for(var D=r.routes[0].overview_path,E=0,A=D.length;E<A;E++)G.push(new google.maps.LatLng(D[E].lat(),D[E].lng()));y.interval=y.interval||1E3;L(G,10)}})}else if(typeof y.tween==="object"){var l=F;a=0;for(var k=y.tween.length;a<k;a++){y.tween[a].interval=y.tween[a].interval||1E3;L(y.tween,10)}}}y.onmaploaded&&y.onmaploaded(y,t)}else setTimeout(function(){e()},13)};e()},end:function(){if(t)t.getDiv().style.display="none"},_teardown:function(u){var y=document.getElementById(u.target);y&&y.removeChild(m);
m=t=o=null;u._map=null}}},{about:{name:"Popcorn Google Map Plugin",version:"0.1",author:"@annasob",website:"annasob.wordpress.com"},options:{start:{elem:"input",type:"start",label:"Start"},end:{elem:"input",type:"start",label:"End"},target:"map-container",type:{elem:"select",options:["ROADMAP","SATELLITE","STREETVIEW","HYBRID","TERRAIN","STAMEN-WATERCOLOR","STAMEN-TERRAIN","STAMEN-TONER"],label:"Map Type",optional:true},zoom:{elem:"input",type:"text",label:"Zoom","default":0,optional:true},lat:{elem:"input",
type:"text",label:"Lat",optional:true},lng:{elem:"input",type:"text",label:"Lng",optional:true},location:{elem:"input",type:"text",label:"Location","default":"Toronto, Ontario, Canada"},heading:{elem:"input",type:"text",label:"Heading","default":0,optional:true},pitch:{elem:"input",type:"text",label:"Pitch","default":1,optional:true}}})})(Popcorn);(function(n){function i(c){function f(){var t=c.getBoundingClientRect(),o=h.getBoundingClientRect();if(o.left!==t.left)h.style.left=t.left+"px";if(o.top!==t.top)h.style.top=t.top+"px"}var g=-1,h=document.createElement("div"),m=getComputedStyle(c).zIndex;h.setAttribute("data-popcorn-helper-container",true);h.style.position="absolute";h.style.zIndex=isNaN(m)?j:m+1;document.body.appendChild(h);return{element:h,start:function(){g=setInterval(f,d)},stop:function(){clearInterval(g);g=-1},destroy:function(){document.body.removeChild(h);
g!==-1&&clearInterval(g)}}}var j=2E3,d=10;n.plugin("image",{manifest:{about:{name:"Popcorn image Plugin",version:"0.1",author:"Scott Downe",website:"http://scottdowne.wordpress.com/"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},src:{elem:"input",type:"url",label:"Image URL","default":"http://mozillapopcorn.org/wp-content/themes/popcorn/images/for_developers.png"},href:{elem:"input",type:"url",label:"Link","default":"http://mozillapopcorn.org/wp-content/themes/popcorn/images/for_developers.png",
optional:true},target:"image-container",text:{elem:"input",type:"text",label:"Caption","default":"Popcorn.js",optional:true}}},_setup:function(c){var f=document.createElement("img"),g=document.getElementById(c.target);c.anchor=document.createElement("a");c.anchor.style.position="relative";c.anchor.style.textDecoration="none";c.anchor.style.display="none";if(g)if(["VIDEO","AUDIO"].indexOf(g.nodeName)>-1){c.trackedContainer=i(g);c.trackedContainer.element.appendChild(c.anchor)}else g&&g.appendChild(c.anchor);
f.addEventListener("load",function(){f.style.borderStyle="none";c.anchor.href=c.href||c.src||"#";c.anchor.target="_blank";var h,m;f.style.height=g.style.height;f.style.width=g.style.width;c.anchor.appendChild(f);if(c.text){h=f.height/12+"px";m=document.createElement("div");n.extend(m.style,{color:"black",fontSize:h,fontWeight:"bold",position:"relative",textAlign:"center",width:f.style.width||f.width+"px",zIndex:"10"});m.innerHTML=c.text||"";m.style.top=(f.style.height.replace("px","")||f.height)/
2-m.offsetHeight/2+"px";c.anchor.insertBefore(m,f)}},false);f.src=c.src;c.toString=function(){var h=c.src||c._natives.manifest.options.src["default"],m=h.replace(/.*\//g,"");return m.length?m:h}},start:function(c,f){f.anchor.style.display="inline";f.trackedContainer&&f.trackedContainer.start()},end:function(c,f){f.anchor.style.display="none";f.trackedContainer&&f.trackedContainer.stop()},_teardown:function(c){if(c.trackedContainer)c.trackedContainer.destroy();else c.anchor.parentNode&&c.anchor.parentNode.removeChild(c.anchor)}})})(Popcorn);(function(n){var i=/(?:http:\/\/www\.|http:\/\/|www\.|\.|^)(youtu|vimeo|soundcloud|baseplayer)/,j={},d={vimeo:false,youtube:false,soundcloud:false,module:false};Object.defineProperty(j,void 0,{get:function(){return d[void 0]},set:function(c){d[void 0]=c}});n.plugin("mediaspawner",{manifest:{about:{name:"Popcorn Media Spawner Plugin",version:"0.1",author:"Matthew Schranz, @mjschranz",website:"mschranz.wordpress.com"},options:{source:{elem:"input",type:"text",label:"Media Source","default":"http://www.youtube.com/watch?v=CXDstfD9eJ0"},
caption:{elem:"input",type:"text",label:"Media Caption","default":"Popcorn Popping",optional:true},target:"mediaspawner-container",start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},autoplay:{elem:"input",type:"checkbox",label:"Autoplay Video",optional:true},width:{elem:"input",type:"number",label:"Media Width","default":400,units:"px",optional:true},height:{elem:"input",type:"number",label:"Media Height","default":200,units:"px",optional:true}}},_setup:function(c){function f(){function x(){if(m!==
"HTML5"&&!window.Popcorn[m])setTimeout(function(){x()},300);else{c.id=c._container.id;c._container.style.width=c.width+"px";c._container.style.height=c.height+"px";c.popcorn=n.smart("#"+c.id,c.source);m==="HTML5"&&c.popcorn.controls(true);c._container.style.width="0px";c._container.style.height="0px";c._container.style.visibility="hidden";c._container.style.overflow="hidden"}}if(m!=="HTML5"&&!window.Popcorn[m]&&!j[m]){j[m]=true;n.getScript("http://popcornjs.org/code/players/"+m+"/popcorn."+m+".js",
function(){x()})}else x()}function g(){window.Popcorn.player?f():setTimeout(function(){g()},300)}var h=document.getElementById(c.target)||{},m,t,o;if(t=i.exec(c.source)){m=t[1];if(m==="youtu")m="youtube"}else m="HTML5";c._type=m;c._container=document.createElement("div");t=c._container;t.id="mediaSpawnerdiv-"+n.guid();c.width=c.width||400;c.height=c.height||200;if(c.caption){o=document.createElement("div");o.innerHTML=c.caption;o.style.display="none";c._capCont=o;t.appendChild(o)}h&&h.appendChild(t);
if(!window.Popcorn.player&&!j.module){j.module=true;n.getScript("http://popcornjs.org/code/modules/player/popcorn.player.js",g)}else g();c.toString=function(){return c.source||c._natives.manifest.options.source["default"]}},start:function(c,f){if(f._capCont)f._capCont.style.display="";f._container.style.width=f.width+"px";f._container.style.height=f.height+"px";f._container.style.visibility="visible";f._container.style.overflow="visible";f.autoplay&&f.popcorn.play()},end:function(c,f){if(f._capCont)f._capCont.style.display=
"none";f._container.style.width="0px";f._container.style.height="0px";f._container.style.visibility="hidden";f._container.style.overflow="hidden";f.popcorn.pause()},_teardown:function(c){c.popcorn&&c.popcorn.destory&&c.popcorn.destroy();document.getElementById(c.target)&&document.getElementById(c.target).removeChild(c._container)}})})(Popcorn,this);(function(n){n.plugin("mustache",function(i){var j,d,c,f;n.getScript("http://mustache.github.com/extras/mustache.js");var g=!!i.dynamic,h=typeof i.template,m=typeof i.data,t=document.getElementById(i.target);i.container=t||document.createElement("div");if(h==="function")if(g)c=i.template;else f=i.template(i);else f=h==="string"?i.template:"";if(m==="function")if(g)j=i.data;else d=i.data(i);else d=m==="string"?JSON.parse(i.data):m==="object"?i.data:"";return{start:function(o,x){var p=function(){if(window.Mustache){if(j)d=
j(x);if(c)f=c(x);var u=Mustache.to_html(f,d).replace(/^\s*/mg,"");x.container.innerHTML=u}else setTimeout(function(){p()},10)};p()},end:function(o,x){x.container.innerHTML=""},_teardown:function(){j=d=c=f=null}}},{about:{name:"Popcorn Mustache Plugin",version:"0.1",author:"David Humphrey (@humphd)",website:"http://vocamus.net/dave"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},target:"mustache-container",template:{elem:"input",type:"text",
label:"Template"},data:{elem:"input",type:"text",label:"Data"},dynamic:{elem:"input",type:"checkbox",label:"Dynamic","default":true}}})})(Popcorn);(function(n){function i(d,c){if(d.map)d.map.div.style.display=c;else setTimeout(function(){i(d,c)},10)}var j=1;n.plugin("openmap",function(d){var c,f,g,h,m,t,o,x,p=document.getElementById(d.target);c=document.createElement("div");c.id="openmapdiv"+j;c.style.width="100%";c.style.height="100%";j++;p&&p.appendChild(c);x=function(){if(window.OpenLayers&&window.OpenLayers.Layer.Stamen){if(d.location){location=new OpenLayers.LonLat(0,0);n.getJSONP("//tinygeocoder.com/create-api.php?q="+d.location+"&callback=jsonp",
function(y){f=new OpenLayers.LonLat(y[1],y[0])})}else f=new OpenLayers.LonLat(d.lng,d.lat);d.type=d.type||"ROADMAP";switch(d.type){case "SATELLITE":d.map=new OpenLayers.Map({div:c,maxResolution:0.28125,tileSize:new OpenLayers.Size(512,512)});var u=new OpenLayers.Layer.WorldWind("LANDSAT","//worldwind25.arc.nasa.gov/tile/tile.aspx",2.25,4,{T:"105"});d.map.addLayer(u);h=new OpenLayers.Projection("EPSG:4326");g=new OpenLayers.Projection("EPSG:4326");break;case "TERRAIN":h=new OpenLayers.Projection("EPSG:4326");
g=new OpenLayers.Projection("EPSG:4326");d.map=new OpenLayers.Map({div:c,projection:g});u=new OpenLayers.Layer.WMS("USGS Terraserver","//terraserver-usa.org/ogcmap.ashx?",{layers:"DRG"});d.map.addLayer(u);break;case "STAMEN-TONER":case "STAMEN-WATERCOLOR":case "STAMEN-TERRAIN":u=d.type.replace("STAMEN-","").toLowerCase();u=new OpenLayers.Layer.Stamen(u);h=new OpenLayers.Projection("EPSG:4326");g=new OpenLayers.Projection("EPSG:900913");f=f.transform(h,g);d.map=new OpenLayers.Map({div:c,projection:g,
displayProjection:h,controls:[new OpenLayers.Control.Navigation,new OpenLayers.Control.PanPanel,new OpenLayers.Control.ZoomPanel]});d.map.addLayer(u);break;default:g=new OpenLayers.Projection("EPSG:900913");h=new OpenLayers.Projection("EPSG:4326");f=f.transform(h,g);d.map=new OpenLayers.Map({div:c,projection:g,displayProjection:h});u=new OpenLayers.Layer.OSM;d.map.addLayer(u)}if(d.map){d.map.setCenter(f,d.zoom||10);d.map.div.style.display="none"}}else setTimeout(function(){x()},50)};x();return{_setup:function(u){window.OpenLayers||
n.getScript("//openlayers.org/api/OpenLayers.js",function(){n.getScript("//maps.stamen.com/js/tile.stamen.js")});var y=function(){if(u.map){u.zoom=u.zoom||2;if(u.zoom&&typeof u.zoom!=="number")u.zoom=+u.zoom;u.map.setCenter(f,u.zoom);if(u.markers){var I=OpenLayers.Util.extend({},OpenLayers.Feature.Vector.style["default"]),F=function(k){clickedFeature=k.feature;if(clickedFeature.attributes.text){o=new OpenLayers.Popup.FramedCloud("featurePopup",clickedFeature.geometry.getBounds().getCenterLonLat(),
new OpenLayers.Size(120,250),clickedFeature.attributes.text,null,true,function(){t.unselect(this.feature)});clickedFeature.popup=o;o.feature=clickedFeature;u.map.addPopup(o)}},e=function(k){feature=k.feature;if(feature.popup){o.feature=null;u.map.removePopup(feature.popup);feature.popup.destroy();feature.popup=null}},L=function(k){n.getJSONP("//tinygeocoder.com/create-api.php?q="+k.location+"&callback=jsonp",function(r){r=(new OpenLayers.Geometry.Point(r[1],r[0])).transform(h,g);var s=OpenLayers.Util.extend({},
I);if(!k.size||isNaN(k.size))k.size=14;s.pointRadius=k.size;s.graphicOpacity=1;s.externalGraphic=k.icon;r=new OpenLayers.Feature.Vector(r,null,s);if(k.text)r.attributes={text:k.text};m.addFeatures([r])})};m=new OpenLayers.Layer.Vector("Point Layer",{style:I});u.map.addLayer(m);for(var B=0,G=u.markers.length;B<G;B++){var a=u.markers[B];if(a.text)if(!t){t=new OpenLayers.Control.SelectFeature(m);u.map.addControl(t);t.activate();m.events.on({featureselected:F,featureunselected:e})}if(a.location)L(a);
else{var b=(new OpenLayers.Geometry.Point(a.lng,a.lat)).transform(h,g),l=OpenLayers.Util.extend({},I);if(!a.size||isNaN(a.size))a.size=14;l.pointRadius=a.size;l.graphicOpacity=1;l.externalGraphic=a.icon;b=new OpenLayers.Feature.Vector(b,null,l);if(a.text)b.attributes={text:a.text};m.addFeatures([b])}}}}else setTimeout(function(){y()},13)};y()},start:function(u,y){i(y,"block")},end:function(u,y){i(y,"none")},_teardown:function(){p&&p.removeChild(c);c=map=f=g=h=m=t=o=null}}},{about:{name:"Popcorn OpenMap Plugin",
version:"0.3",author:"@mapmeld",website:"mapadelsur.blogspot.com"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},target:"map-container",type:{elem:"select",options:["ROADMAP","SATELLITE","TERRAIN"],label:"Map Type",optional:true},zoom:{elem:"input",type:"number",label:"Zoom","default":2},lat:{elem:"input",type:"text",label:"Lat",optional:true},lng:{elem:"input",type:"text",label:"Lng",optional:true},location:{elem:"input",type:"text",label:"Location",
"default":"Toronto, Ontario, Canada"},markers:{elem:"input",type:"text",label:"List Markers",optional:true}}})})(Popcorn);document.addEventListener("click",function(n){n=n.target;if(n.nodeName==="A"||n.parentNode&&n.parentNode.nodeName==="A")Popcorn.instances.forEach(function(i){i.options.pauseOnLinkClicked&&i.pause()})},false);(function(n){var i=0,j=function(d,c){var f=d.container=document.createElement("div"),g=f.style,h=d.media,m=function(){var t=d.position();g.fontSize="18px";g.width=h.offsetWidth+"px";g.top=t.top+h.offsetHeight-f.offsetHeight-40+"px";g.left=t.left+"px";setTimeout(m,10)};f.id=c||n.guid();g.position="absolute";g.color="white";g.textShadow="black 2px 2px 6px";g.fontWeight="bold";g.textAlign="center";m();d.media.parentNode.appendChild(f);return f};n.plugin("subtitle",{manifest:{about:{name:"Popcorn Subtitle Plugin",
version:"0.1",author:"Scott Downe",website:"http://scottdowne.wordpress.com/"},options:{start:{elem:"input",type:"text",label:"Start"},end:{elem:"input",type:"text",label:"End"},target:"subtitle-container",text:{elem:"input",type:"text",label:"Text"}}},_setup:function(d){var c=document.createElement("div");c.id="subtitle-"+i++;c.style.display="none";!this.container&&(!d.target||d.target==="subtitle-container")&&j(this);d.container=d.target&&d.target!=="subtitle-container"?document.getElementById(d.target)||
j(this,d.target):this.container;document.getElementById(d.container.id)&&document.getElementById(d.container.id).appendChild(c);d.innerContainer=c;d.showSubtitle=function(){d.innerContainer.innerHTML=d.text||""}},start:function(d,c){c.innerContainer.style.display="inline";c.showSubtitle(c,c.text)},end:function(d,c){c.innerContainer.style.display="none";c.innerContainer.innerHTML=""},_teardown:function(d){d.container.removeChild(d.innerContainer)}})})(Popcorn);(function(n){function i(c){return String(c).replace(/&(?!\w+;)|[<>"']/g,function(f){return d[f]||f})}function j(c,f){var g=c.container=document.createElement("div"),h=g.style,m=c.media,t=function(){var o=c.position();h.fontSize="18px";h.width=m.offsetWidth+"px";h.top=o.top+m.offsetHeight-g.offsetHeight-40+"px";h.left=o.left+"px";setTimeout(t,10)};g.id=f||"";h.position="absolute";h.color="white";h.textShadow="black 2px 2px 6px";h.fontWeight="bold";h.textAlign="center";t();c.media.parentNode.appendChild(g);
return g}var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};n.plugin("text",{manifest:{about:{name:"Popcorn Text Plugin",version:"0.1",author:"@humphd"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},text:{elem:"input",type:"text",label:"Text","default":"Popcorn.js"},escape:{elem:"input",type:"checkbox",label:"Escape"},multiline:{elem:"input",type:"checkbox",label:"Multiline"}}},_setup:function(c){var f,g,h=c._container=document.createElement("div");
h.style.display="none";if(c.target)if(f=n.dom.find(c.target)){if(["VIDEO","AUDIO"].indexOf(f.nodeName)>-1)f=j(this,c.target+"-overlay")}else f=j(this,c.target);else f=this.container?this.container:j(this);c._target=f;g=c.escape?i(c.text):c.text;g=c.multiline?g.replace(/\r?\n/gm,"<br>"):g;h.innerHTML=g||"";f.appendChild(h);c.toString=function(){return c.text||c._natives.manifest.options.text["default"]}},start:function(c,f){f._container.style.display="inline"},end:function(c,f){f._container.style.display=
"none"},_teardown:function(c){var f=c._target;f&&f.removeChild(c._container)}})})(Popcorn);(function(n){var i=1;n.plugin("timeline",function(j){var d=document.getElementById(j.target),c=document.createElement("div"),f,g=true;if(d&&!d.firstChild){d.appendChild(f=document.createElement("div"));f.style.width="inherit";f.style.height="inherit";f.style.overflow="auto"}else f=d.firstChild;c.style.display="none";c.id="timelineDiv"+i;j.direction=j.direction||"up";if(j.direction.toLowerCase()==="down")g=false;if(d&&f)g?f.insertBefore(c,f.firstChild):f.appendChild(c);i++;c.innerHTML="<p><span id='big' style='font-size:24px; line-height: 130%;' >"+
j.title+"</span><br /><span id='mid' style='font-size: 16px;'>"+j.text+"</span><br />"+j.innerHTML;return{start:function(h,m){c.style.display="block";if(m.direction==="down")f.scrollTop=f.scrollHeight},end:function(){c.style.display="none"},_teardown:function(){f&&c&&f.removeChild(c)&&!f.firstChild&&d.removeChild(f)}}},{about:{name:"Popcorn Timeline Plugin",version:"0.1",author:"David Seifried @dcseifried",website:"dseifried.wordpress.com"},options:{start:{elem:"input",type:"number",label:"Start"},
end:{elem:"input",type:"number",label:"End"},target:"feed-container",title:{elem:"input",type:"text",label:"Title"},text:{elem:"input",type:"text",label:"Text"},innerHTML:{elem:"input",type:"text",label:"HTML Code",optional:true},direction:{elem:"select",options:["DOWN","UP"],label:"Direction",optional:true}}})})(Popcorn);(function(n){n.plugin("webpage",{manifest:{about:{name:"Popcorn Webpage Plugin",version:"0.1",author:"@annasob",website:"annasob.wordpress.com"},options:{id:{elem:"input",type:"text",label:"Id",optional:true},start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},src:{elem:"input",type:"url",label:"Webpage URL","default":"http://mozillapopcorn.org"},target:"iframe-container"}},_setup:function(i){var j=document.getElementById(i.target);i.src=i.src.replace(/^(https?:)?(\/\/)?/,
"//");i._iframe=document.createElement("iframe");i._iframe.setAttribute("width","100%");i._iframe.setAttribute("height","100%");i._iframe.id=i.id;i._iframe.src=i.src;i._iframe.style.display="none";j&&j.appendChild(i._iframe)},start:function(i,j){j._iframe.src=j.src;j._iframe.style.display="inline"},end:function(i,j){j._iframe.style.display="none"},_teardown:function(i){document.getElementById(i.target)&&document.getElementById(i.target).removeChild(i._iframe)}})})(Popcorn);var wikiCallback;
(function(n){n.plugin("wikipedia",{manifest:{about:{name:"Popcorn Wikipedia Plugin",version:"0.1",author:"@annasob",website:"annasob.wordpress.com"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},lang:{elem:"input",type:"text",label:"Language","default":"english",optional:true},src:{elem:"input",type:"url",label:"Wikipedia URL","default":"http://en.wikipedia.org/wiki/Cat"},title:{elem:"input",type:"text",label:"Title","default":"Cats",optional:true},
numberofwords:{elem:"input",type:"number",label:"Number of Words","default":"200",optional:true},target:"wikipedia-container"}},_setup:function(i){var j,d=n.guid();if(!i.lang)i.lang="en";i.numberofwords=i.numberofwords||200;window["wikiCallback"+d]=function(c){i._link=document.createElement("a");i._link.setAttribute("href",i.src);i._link.setAttribute("target","_blank");i._link.innerHTML=i.title||c.parse.displaytitle;i._desc=document.createElement("p");j=c.parse.text["*"].substr(c.parse.text["*"].indexOf("<p>"));
j=j.replace(/((<(.|\n)+?>)|(\((.*?)\) )|(\[(.*?)\]))/g,"");j=j.split(" ");i._desc.innerHTML=j.slice(0,j.length>=i.numberofwords?i.numberofwords:j.length).join(" ")+" ...";i._fired=true};i.src&&n.getScript("//"+i.lang+".wikipedia.org/w/api.php?action=parse&props=text&redirects&page="+i.src.slice(i.src.lastIndexOf("/")+1)+"&format=json&callback=wikiCallback"+d);i.toString=function(){return i.src||i._natives.manifest.options.src["default"]}},start:function(i,j){var d=function(){if(j._fired){if(j._link&&
j._desc)if(document.getElementById(j.target)){document.getElementById(j.target).appendChild(j._link);document.getElementById(j.target).appendChild(j._desc);j._added=true}}else setTimeout(function(){d()},13)};d()},end:function(i,j){if(j._added){document.getElementById(j.target).removeChild(j._link);document.getElementById(j.target).removeChild(j._desc)}},_teardown:function(i){if(i._added){i._link.parentNode&&document.getElementById(i.target).removeChild(i._link);i._desc.parentNode&&document.getElementById(i.target).removeChild(i._desc);
delete i.target}}})})(Popcorn);(function(n){var i={},j=0,d=document.createElement("span"),c=["webkit","Moz","ms","O",""],f=["Transform","TransitionDuration","TransitionTimingFunction"],g={},h;document.getElementsByTagName("head")[0].appendChild(d);for(var m=0,t=f.length;m<t;m++)for(var o=0,x=c.length;o<x;o++){h=c[o]+f[m];if(h in d.style){g[f[m].toLowerCase()]=h;break}}document.getElementsByTagName("head")[0].appendChild(d);n.plugin("wordriver",{manifest:{about:{name:"Popcorn WordRiver Plugin"},options:{start:{elem:"input",type:"number",
label:"Start"},end:{elem:"input",type:"number",label:"End"},target:"wordriver-container",text:{elem:"input",type:"text",label:"Text","default":"Popcorn.js"},color:{elem:"input",type:"text",label:"Color","default":"Green",optional:true}}},_setup:function(p){p._duration=p.end-p.start;var u;if(!(u=i[p.target])){u=p.target;i[u]=document.createElement("div");var y=document.getElementById(u);y&&y.appendChild(i[u]);i[u].style.height="100%";i[u].style.position="relative";u=i[u]}p._container=u;p.word=document.createElement("span");
p.word.style.position="absolute";p.word.style.whiteSpace="nowrap";p.word.style.opacity=0;p.word.style.MozTransitionProperty="opacity, -moz-transform";p.word.style.webkitTransitionProperty="opacity, -webkit-transform";p.word.style.OTransitionProperty="opacity, -o-transform";p.word.style.transitionProperty="opacity, transform";p.word.style[g.transitionduration]="1s, "+p._duration+"s";p.word.style[g.transitiontimingfunction]="linear";p.word.innerHTML=p.text;p.word.style.color=p.color||"black"},start:function(p,
u){u._container.appendChild(u.word);u.word.style[g.transform]="";u.word.style.fontSize=~~(30+20*Math.random())+"px";j%=u._container.offsetWidth-u.word.offsetWidth;u.word.style.left=j+"px";j+=u.word.offsetWidth+10;u.word.style[g.transform]="translateY("+(u._container.offsetHeight-u.word.offsetHeight)+"px)";u.word.style.opacity=1;setTimeout(function(){u.word.style.opacity=0},(u.end-u.start-1||1)*1E3)},end:function(p,u){u.word.style.opacity=0},_teardown:function(p){var u=document.getElementById(p.target);
p.word.parentNode&&p._container.removeChild(p.word);i[p.target]&&!i[p.target].childElementCount&&u&&u.removeChild(i[p.target])&&delete i[p.target]}})})(Popcorn);(function(n){n.parser("parseJSON","JSON",function(i){var j={title:"",remote:"",data:[]};n.forEach(i.data,function(d){j.data.push(d)});return j})})(Popcorn);(function(n){n.parser("parseSBV",function(i){var j={title:"",remote:"",data:[]},d=[],c=0,f=0,g=function(p){p=p.split(":");var u=p.length-1,y;try{y=parseInt(p[u-1],10)*60+parseFloat(p[u],10);if(u===2)y+=parseInt(p[0],10)*3600}catch(I){throw"Bad cue";}return y},h=function(p,u){var y={};y[p]=u;return y};i=i.text.split(/(?:\r\n|\r|\n)/gm);for(f=i.length;c<f;){var m={},t=[],o=i[c++].split(",");try{m.start=g(o[0]);for(m.end=g(o[1]);c<f&&i[c];)t.push(i[c++]);m.text=t.join("<br />");d.push(h("subtitle",m))}catch(x){for(;c<
f&&i[c];)c++}for(;c<f&&!i[c];)c++}j.data=d;return j})})(Popcorn);(function(n){function i(d,c){var f={};f[d]=c;return f}function j(d){d=d.split(":");try{var c=d[2].split(",");if(c.length===1)c=d[2].split(".");return parseFloat(d[0],10)*3600+parseFloat(d[1],10)*60+parseFloat(c[0],10)+parseFloat(c[1],10)/1E3}catch(f){return 0}}n.parser("parseSRT",function(d){var c={title:"",remote:"",data:[]},f=[],g=0,h=0,m,t,o,x;d=d.text.split(/(?:\r\n|\r|\n)/gm);for(g=d.length-1;g>=0&&!d[g];)g--;o=g+1;for(g=0;g<o;g++){x={};t=[];x.id=parseInt(d[g++],10);m=d[g++].split(/[\t ]*--\>[\t ]*/);
x.start=j(m[0]);h=m[1].indexOf(" ");if(h!==-1)m[1]=m[1].substr(0,h);for(x.end=j(m[1]);g<o&&d[g];)t.push(d[g++]);x.text=t.join("\\N").replace(/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,"");x.text=x.text.replace(/</g,"&lt;").replace(/>/g,"&gt;");x.text=x.text.replace(/&lt;(\/?(font|b|u|i|s))((\s+(\w|\w[\w\-]*\w)(\s*=\s*(?:\".*?\"|'.*?'|[^'\">\s]+))?)+\s*|\s*)(\/?)&gt;/gi,"<$1$3$7>");x.text=x.text.replace(/\\N/gi,"<br />");f.push(i("subtitle",x))}c.data=f;return c})})(Popcorn);(function(n){function i(c,f){var g=c.substr(10).split(","),h;h={start:j(g[f.start]),end:j(g[f.end])};if(h.start===-1||h.end===-1)throw"Invalid time";var m=p.call(o,/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,""),t=m.replace,o;o=g.length;p=[];for(var x=f.text;x<o;x++)p.push(g[x]);o=p.join(",");var p=o.replace;h.text=t.call(m,/\\N/gi,"<br />");return h}function j(c){var f=c.split(":");if(c.length!==10||f.length<3)return-1;return parseInt(f[0],10)*3600+parseInt(f[1],10)*60+parseFloat(f[2],10)}function d(c,
f){var g={};g[c]=f;return g}n.parser("parseSSA",function(c){var f={title:"",remote:"",data:[]},g=[],h=0,m;c=c.text.split(/(?:\r\n|\r|\n)/gm);for(m=c.length;h<m&&c[h]!=="[Events]";)h++;var t=c[++h].substr(8).split(", "),o={},x,p;p=0;for(x=t.length;p<x;p++)if(t[p]==="Start")o.start=p;else if(t[p]==="End")o.end=p;else if(t[p]==="Text")o.text=p;for(;++h<m&&c[h]&&c[h][0]!=="[";)try{g.push(d("subtitle",i(c[h],o)))}catch(u){}f.data=g;return f})})(Popcorn);(function(n){function i(h,m,t){var o=h.firstChild;h=j(h,t);t=[];for(var x;o;){if(o.nodeType===1)if(o.nodeName==="p")t.push(d(o,m,h));else if(o.nodeName==="div"){x=c(o.getAttribute("begin"));if(x<0)x=m;t.push.apply(t,i(o,x,h))}o=o.nextSibling}return t}function j(h,m){var t=h.getAttribute("region");return t!==null?t:m||""}function d(h,m,t){var o={};o.text=(h.textContent||h.text).replace(f,"").replace(g,"<br />");o.id=h.getAttribute("xml:id")||h.getAttribute("id");o.start=c(h.getAttribute("begin"),m);
o.end=c(h.getAttribute("end"),m);o.target=j(h,t);if(o.end<0){o.end=c(h.getAttribute("duration"),0);if(o.end>=0)o.end+=o.start;else o.end=Number.MAX_VALUE}return{subtitle:o}}function c(h,m){var t;if(!h)return-1;try{return n.util.toSeconds(h)}catch(o){for(var x=h.length-1;x>=0&&h[x]<="9"&&h[x]>="0";)x--;t=x;x=parseFloat(h.substring(0,t));t=h.substring(t);return x*({h:3600,m:60,s:1,ms:0.001}[t]||-1)+(m||0)}}var f=/^[\s]+|[\s]+$/gm,g=/(?:\r\n|\r|\n)/gm;n.parser("parseTTML",function(h){var m={title:"",
remote:"",data:[]};if(!h.xml||!h.xml.documentElement)return m;h=h.xml.documentElement.firstChild;if(!h)return m;for(;h.nodeName!=="body";)h=h.nextSibling;if(h)m.data=i(h,0);return m})})(Popcorn);(function(n){n.parser("parseTTXT",function(i){var j={title:"",remote:"",data:[]},d=function(m){m=m.split(":");var t=0;try{return parseFloat(m[0],10)*60*60+parseFloat(m[1],10)*60+parseFloat(m[2],10)}catch(o){t=0}return t},c=function(m,t){var o={};o[m]=t;return o};i=i.xml.lastChild.lastChild;for(var f=Number.MAX_VALUE,g=[];i;){if(i.nodeType===1&&i.nodeName==="TextSample"){var h={};h.start=d(i.getAttribute("sampleTime"));h.text=i.getAttribute("text");if(h.text){h.end=f-0.001;g.push(c("subtitle",h))}f=
h.start}i=i.previousSibling}j.data=g.reverse();return j})})(Popcorn);(function(n){function i(d){var c=d.split(":");d=d.length;var f;if(d!==12&&d!==9)throw"Bad cue";d=c.length-1;try{f=parseInt(c[d-1],10)*60+parseFloat(c[d],10);if(d===2)f+=parseInt(c[0],10)*3600}catch(g){throw"Bad cue";}return f}function j(d,c){var f={};f[d]=c;return f}n.parser("parseVTT",function(d){var c={title:"",remote:"",data:[]},f=[],g=0,h=0,m,t;d=d.text.split(/(?:\r\n|\r|\n)/gm);h=d.length;if(h===0||d[0]!=="WEBVTT")return c;for(g++;g<h;){m=[];try{for(var o=g;o<h&&!d[o];)o++;g=o;var x=d[g++];o=
void 0;var p={};if(!x||x.indexOf("--\>")===-1)throw"Bad cue";o=x.replace(/--\>/," --\> ").split(/[\t ]+/);if(o.length<2)throw"Bad cue";p.id=x;p.start=i(o[0]);p.end=i(o[2]);for(t=p;g<h&&d[g];)m.push(d[g++]);t.text=m.join("<br />");f.push(j("subtitle",t))}catch(u){for(g=g;g<h&&d[g];)g++;g=g}}c.data=f;return c})})(Popcorn);(function(n){n.parser("parseXML","XML",function(i){var j={title:"",remote:"",data:[]},d={},c=function(o){o=o.split(":");if(o.length===1)return parseFloat(o[0],10);else if(o.length===2)return parseFloat(o[0],10)+parseFloat(o[1]/12,10);else if(o.length===3)return parseInt(o[0]*60,10)+parseFloat(o[1],10)+parseFloat(o[2]/12,10);else if(o.length===4)return parseInt(o[0]*3600,10)+parseInt(o[1]*60,10)+parseFloat(o[2],10)+parseFloat(o[3]/12,10)},f=function(o){for(var x={},p=0,u=o.length;p<u;p++){var y=o.item(p).nodeName,
I=o.item(p).nodeValue,F=d[I];if(y==="in")x.start=c(I);else if(y==="out")x.end=c(I);else if(y==="resourceid")for(var e in F){if(F.hasOwnProperty(e))if(!x[e]&&e!=="id")x[e]=F[e]}else x[y]=I}return x},g=function(o,x){var p={};p[o]=x;return p},h=function(o,x,p){var u={};n.extend(u,x,f(o.attributes),{text:o.textContent||o.text});x=o.childNodes;if(x.length<1||x.length===1&&x[0].nodeType===3)if(p)d[u.id]=u;else j.data.push(g(o.nodeName,u));else for(o=0;o<x.length;o++)x[o].nodeType===1&&h(x[o],u,p)};i=i.documentElement.childNodes;
for(var m=0,t=i.length;m<t;m++)if(i[m].nodeType===1)i[m].nodeName==="manifest"?h(i[m],{},true):h(i[m],{},false);return j})})(Popcorn);(function(n,i){i.player("soundcloud",{_canPlayType:function(j,d){return typeof d==="string"&&i.HTMLSoundCloudAudioElement._canPlaySrc(d)&&j.toLowerCase()!=="audio"}});i.soundcloud=function(j,d,c){typeof console!=="undefined"&&console.warn&&console.warn("Deprecated player 'soundcloud'. Please use Popcorn.HTMLSoundCloudAudioElement directly.");var f=i.HTMLSoundCloudAudioElement(j);j=i(f,c);setTimeout(function(){f.src=d},0);return j}})(window,Popcorn);(function(n,i){i.player("vimeo",{_canPlayType:function(j,d){return typeof d==="string"&&i.HTMLVimeoVideoElement._canPlaySrc(d)}});i.vimeo=function(j,d,c){typeof console!=="undefined"&&console.warn&&console.warn("Deprecated player 'vimeo'. Please use Popcorn.HTMLVimeoVideoElement directly.");var f=i.HTMLVimeoVideoElement(j);j=i(f,c);setTimeout(function(){f.src=d},0);return j}})(window,Popcorn);(function(n,i){var j=function(d,c){return typeof c==="string"&&i.HTMLYouTubeVideoElement._canPlaySrc(c)};i.player("youtube",{_canPlayType:j});i.youtube=function(d,c,f){typeof console!=="undefined"&&console.warn&&console.warn("Deprecated player 'youtube'. Please use Popcorn.HTMLYouTubeVideoElement directly.");var g=i.HTMLYouTubeVideoElement(d);d=i(g,f);setTimeout(function(){g.src=c},0);return d};i.youtube.canPlayType=j})(window,Popcorn);
