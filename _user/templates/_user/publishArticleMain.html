{% extends '_user/userBase.html' %}

{% block title %}

{% endblock %} 

{% block content %}	
	<div class="articlePreviewList">
			<div class="row">
				<div class="col-xs-6">
					<h2>Articles</h2>
				</div>
				<div class="col-xs-6">
					<a class="btn btn-default btn-new pull-right" href={% url "userPublish" %} title="New Article">New</a>
				</div>
			</div>
			<table class="table table-striped">
				<thead>
					<tr>
						<th>Title</th>
						<th>Status</th>
						<th>Publish Date</th>
						<th class="desktop">Comments</th>
						<th class="desktop">Rating</th>
						<th>Action</th>
					</tr>
				</thead>
				<tbody>
					{% for StructureNode in top_article_list %}
					<tr>
						<td>{{ StructureNode.title }}</td>
						<td>{% if StructureNode.isPublished and StructureNode.isDraft %}Draft{% else %}Published{% endif %}</td>
						<td>{% if StructureNode.isPublished and not StructureNode.isDraft %}{{StructureNode.pubDate }}{% endif %}</td>
						<td class="desktop">{{ StructureNode.commentCount }}</td>
						<td class="desktop">{{ StructureNode.rating.rating }}</td>
						<td><a class="btn btn-default btn-new" href={% url "userPublish" %} title="Edit Article"><i class="icon-pencil"></i></a><form class="deleteArticle" method="post" enctype="multipart/form-data" action={% url 'userArticleDelete' %} title="Delete Article">{% csrf_token %}<button class="btn btn-default btn-new" href={% url "userPublish" %}><i class="icon-remove"></i></button><div class="hiddenFields"><input type="hidden" name="nodeID" value='{{ StructureNode.id }}'></div></form></td>
					</tr>
					{% endfor %}	
				</tbody>
			
			</table>
	
	</div>
	<div class="pagination">
    <span class="step-links">
    	{% if top_article_list.has_previous or top_article_list.has_next %}
        {% if top_article_list.has_previous %}
            <a href="?page={{ top_article_list.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ top_article_list.number }} of {{ top_article_list.paginator.num_pages }}.
        </span>

        {% if top_article_list.has_next %}
            <a href="?page={{ top_article_list.next_page_number }}">next</a>
        {% endif %}
        {% endif %}
    </span>
</div>	
{% endblock %}
